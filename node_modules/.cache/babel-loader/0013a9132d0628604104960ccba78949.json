{"ast":null,"code":"import _toConsumableArray from\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useEffect}from'react';import MatchedTagResults from'./Matched_Tag_Results';import PostFormUtil from'../../functions/post_form_util.js';import PostUpdateUtil from'../../functions/post_update_util.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var pushTags=PostUpdateUtil.pushTags;var handleTagInput=PostFormUtil.handleTagInput,removeTag=PostFormUtil.removeTag;var Tags=function Tags(_ref){var post=_ref.post,tags=_ref.tags,setTags=_ref.setTags,tag=_ref.tag,setTag=_ref.setTag;useEffect(function(){if(post){pushTags(post.tagIds,tags,setTags);}//eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"tagsContainer\",children:[tags.map(function(tag,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"tagDiv\",children:[tag,/*#__PURE__*/_jsx(\"span\",{className:\"removeTag\",onClick:function onClick(){removeTag(i,tags,setTags);},children:/*#__PURE__*/_jsx(\"span\",{children:\"x\"})})]},i);}),/*#__PURE__*/_jsxs(\"div\",{className:\"tagInputAndDDContainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tag,placeholder:\"#tags\",onChange:function onChange(e){return setTag(tag=e.target.value);},onKeyDown:function onKeyDown(e){if(e.key==='Enter'&&tag||e.key==='#'&&tag){handleTagInput(tag,setTag,tags,setTags);}},onClick:function onClick(e){if(tag){handleTagInput(tag,setTag,tags,setTags);}},onBlur:function onBlur(e){if(e&&e.relatedTarget){var formClasses=_toConsumableArray(e.relatedTarget.classList);if((formClasses[0]==='browserPostsNav'||formClasses.includes('ck')||formClasses[0]==='titleInput'||!e.relatedTarget)&&tag){handleTagInput(tag,setTag,tags,setTags);}}}}),/*#__PURE__*/_jsx(MatchedTagResults,{query:tag,tags:tags,setTags:setTags,tag:tag,setTag:setTag})]})]});};export default Tags;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/posts/util/components/forms/Tags.js"],"names":["React","useEffect","MatchedTagResults","PostFormUtil","PostUpdateUtil","pushTags","handleTagInput","removeTag","Tags","post","tags","setTags","tag","setTag","tagIds","map","i","e","target","value","key","relatedTarget","formClasses","classList","includes"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,iBAAP,KAA8B,uBAA9B,CAEA,MAAOC,CAAAA,YAAP,KAAyB,mCAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,qCAA3B,C,wFACA,GAAQC,CAAAA,QAAR,CAAqBD,cAArB,CAAQC,QAAR,CACA,GAAQC,CAAAA,cAAR,CAAsCH,YAAtC,CAAQG,cAAR,CAAwBC,SAAxB,CAAsCJ,YAAtC,CAAwBI,SAAxB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAMP,IALJC,CAAAA,IAKI,MALJA,IAKI,CAJJC,IAII,MAJJA,IAII,CAHJC,OAGI,MAHJA,OAGI,CAFJC,GAEI,MAFJA,GAEI,CADJC,MACI,MADJA,MACI,CAEJZ,SAAS,CAAC,UAAM,CACd,GAAIQ,IAAJ,CAAU,CACRJ,QAAQ,CAACI,IAAI,CAACK,MAAN,CAAcJ,IAAd,CAAoBC,OAApB,CAAR,CACD,CACD;AACD,CALQ,CAKN,EALM,CAAT,CAOA,mBACE,aACE,SAAS,CAAC,eADZ,WAGGD,IAAI,CAACK,GAAL,CAAS,SAACH,GAAD,CAAMI,CAAN,CAAY,CACpB,mBACE,aACE,SAAS,CAAC,QADZ,WAIGJ,GAJH,cAKE,aACE,SAAS,CAAC,WADZ,CAEE,OAAO,CAAE,kBAAM,CACbL,SAAS,CAACS,CAAD,CAAIN,IAAJ,CAAUC,OAAV,CAAT,CACD,CAJH,uBAME,2BANF,EALF,GAEOK,CAFP,CADF,CAgBD,CAjBA,CAHH,cAsBE,aACE,SAAS,CAAC,wBADZ,wBAGE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEJ,GAFT,CAGE,WAAW,CAAC,OAHd,CAIE,QAAQ,CAAE,kBAAAK,CAAC,QAAIJ,CAAAA,MAAM,CAACD,GAAG,CAAGK,CAAC,CAACC,MAAF,CAASC,KAAhB,CAAV,EAJb,CAKE,SAAS,CAAE,mBAAAF,CAAC,CAAI,CACd,GACGA,CAAC,CAACG,GAAF,GAAU,OAAV,EAAqBR,GAAtB,EACCK,CAAC,CAACG,GAAF,GAAU,GAAV,EAAiBR,GAFpB,CAGE,CACAN,cAAc,CACVM,GADU,CACLC,MADK,CAEVH,IAFU,CAEJC,OAFI,CAAd,CAIC,CACF,CAfL,CAiBE,OAAO,CAAE,iBAAAM,CAAC,CAAI,CACZ,GAAIL,GAAJ,CAAS,CACPN,cAAc,CACZM,GADY,CACPC,MADO,CAEZH,IAFY,CAENC,OAFM,CAAd,CAID,CACF,CAxBH,CAyBE,MAAM,CAAE,gBAAAM,CAAC,CAAI,CACX,GAAIA,CAAC,EAAIA,CAAC,CAACI,aAAX,CAA0B,CACxB,GAAIC,CAAAA,WAAW,oBAAOL,CAAC,CAACI,aAAF,CAAgBE,SAAvB,CAAf,CAEA,GACE,CAACD,WAAW,CAAC,CAAD,CAAX,GAAmB,iBAAnB,EACDA,WAAW,CAACE,QAAZ,CAAqB,IAArB,CADC,EAEDF,WAAW,CAAC,CAAD,CAAX,GAAmB,YAFlB,EAGD,CAACL,CAAC,CAACI,aAHH,GAIAT,GALF,CAME,CACAN,cAAc,CACZM,GADY,CACPC,MADO,CAEZH,IAFY,CAENC,OAFM,CAAd,CAID,CACF,CACF,CA1CH,EAHF,cAgDE,KAAC,iBAAD,EACE,KAAK,CAAEC,GADT,CAEE,IAAI,CAAEF,IAFR,CAGE,OAAO,CAAEC,OAHX,CAIE,GAAG,CAAEC,GAJP,CAKE,MAAM,CAAEC,MALV,EAhDF,GAtBF,GADF,CAkFD,CAjGD,CAmGA,cAAeL,CAAAA,IAAf","sourcesContent":["import React, { useEffect } from 'react';\n\nimport MatchedTagResults from './Matched_Tag_Results'\n\nimport PostFormUtil from '../../functions/post_form_util.js'\nimport PostUpdateUtil from '../../functions/post_update_util.js'\nconst { pushTags } = PostUpdateUtil;\nconst { handleTagInput, removeTag } = PostFormUtil;\n\nconst Tags = ({\n  post, \n  tags, \n  setTags,\n  tag, \n  setTag\n}) => {\n\n  useEffect(() => {\n    if (post) {\n      pushTags(post.tagIds, tags, setTags)\n    }  \n    //eslint-disable-next-line\n  }, [])\n\n  return (\n    <div\n      className='tagsContainer'\n    >\n      {tags.map((tag, i) => {\n        return (\n          <div\n            className='tagDiv'\n            key={i}\n          >\n            {tag}\n            <span\n              className='removeTag'\n              onClick={() => {\n                removeTag(i, tags, setTags)\n              }}\n            >\n              <span>x</span>\n            </span>\n          </div>\n        )\n      })}\n\n      <div\n        className='tagInputAndDDContainer'\n      >\n        <input\n          type='text'\n          value={tag}\n          placeholder='#tags'\n          onChange={e => setTag(tag = e.target.value)}\n          onKeyDown={e => {\n            if (\n              (e.key === 'Enter' && tag) ||\n              (e.key === '#' && tag)\n            ) {\n              handleTagInput(\n                  tag, setTag,\n                  tags, setTags\n                )\n              }\n            }\n          }\n          onClick={e => {\n            if (tag) {\n              handleTagInput(\n                tag, setTag,\n                tags, setTags\n              )\n            }\n          }}\n          onBlur={e => {\n            if (e && e.relatedTarget) {\n              var formClasses = [...e.relatedTarget.classList]\n\n              if (\n                (formClasses[0] === 'browserPostsNav' ||\n                formClasses.includes('ck') ||\n                formClasses[0] === 'titleInput' ||\n                !e.relatedTarget) &&\n                tag\n              ) {\n                handleTagInput(\n                  tag, setTag,\n                  tags, setTags\n                )\n              }\n            }\n          }}\n        />\n\n        <MatchedTagResults \n          query={tag}\n          tags={tags}\n          setTags={setTags}\n          tag={tag}\n          setTag={setTag}\n        />\n      </div>\n    </div>\n  )\n\n}\n\nexport default Tags;"]},"metadata":{},"sourceType":"module"}