{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _classCallCheck = require(\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CombinedTagMapper = void 0;\n\nvar ID3v1TagMap_1 = require(\"../id3v1/ID3v1TagMap\");\n\nvar ID3v24TagMapper_1 = require(\"../id3v2/ID3v24TagMapper\");\n\nvar AsfTagMapper_1 = require(\"../asf/AsfTagMapper\");\n\nvar ID3v22TagMapper_1 = require(\"../id3v2/ID3v22TagMapper\");\n\nvar APEv2TagMapper_1 = require(\"../apev2/APEv2TagMapper\");\n\nvar MP4TagMapper_1 = require(\"../mp4/MP4TagMapper\");\n\nvar VorbisTagMapper_1 = require(\"../ogg/vorbis/VorbisTagMapper\");\n\nvar RiffInfoTagMap_1 = require(\"../riff/RiffInfoTagMap\");\n\nvar MatroskaTagMapper_1 = require(\"../matroska/MatroskaTagMapper\");\n\nvar CombinedTagMapper = /*#__PURE__*/function () {\n  function CombinedTagMapper() {\n    var _this = this;\n\n    _classCallCheck(this, CombinedTagMapper);\n\n    this.tagMappers = {};\n    [new ID3v1TagMap_1.ID3v1TagMapper(), new ID3v22TagMapper_1.ID3v22TagMapper(), new ID3v24TagMapper_1.ID3v24TagMapper(), new MP4TagMapper_1.MP4TagMapper(), new MP4TagMapper_1.MP4TagMapper(), new VorbisTagMapper_1.VorbisTagMapper(), new APEv2TagMapper_1.APEv2TagMapper(), new AsfTagMapper_1.AsfTagMapper(), new RiffInfoTagMap_1.RiffInfoTagMapper(), new MatroskaTagMapper_1.MatroskaTagMapper()].forEach(function (mapper) {\n      _this.registerTagMapper(mapper);\n    });\n  }\n  /**\r\n   * Convert native to generic (common) tags\r\n   * @param tagType Originating tag format\r\n   * @param tag     Native tag to map to a generic tag id\r\n   * @param warnings\r\n   * @return Generic tag result (output of this function)\r\n   */\n\n\n  _createClass(CombinedTagMapper, [{\n    key: \"mapTag\",\n    value: function mapTag(tagType, tag, warnings) {\n      var tagMapper = this.tagMappers[tagType];\n\n      if (tagMapper) {\n        return this.tagMappers[tagType].mapGenericTag(tag, warnings);\n      }\n\n      throw new Error(\"No generic tag mapper defined for tag-format: \" + tagType);\n    }\n  }, {\n    key: \"registerTagMapper\",\n    value: function registerTagMapper(genericTagMapper) {\n      var _iterator = _createForOfIteratorHelper(genericTagMapper.tagTypes),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var tagType = _step.value;\n          this.tagMappers[tagType] = genericTagMapper;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }]);\n\n  return CombinedTagMapper;\n}();\n\nexports.CombinedTagMapper = CombinedTagMapper;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/music-metadata/lib/common/CombinedTagMapper.js"],"names":["Object","defineProperty","exports","value","CombinedTagMapper","ID3v1TagMap_1","require","ID3v24TagMapper_1","AsfTagMapper_1","ID3v22TagMapper_1","APEv2TagMapper_1","MP4TagMapper_1","VorbisTagMapper_1","RiffInfoTagMap_1","MatroskaTagMapper_1","tagMappers","ID3v1TagMapper","ID3v22TagMapper","ID3v24TagMapper","MP4TagMapper","VorbisTagMapper","APEv2TagMapper","AsfTagMapper","RiffInfoTagMapper","MatroskaTagMapper","forEach","mapper","registerTagMapper","tagType","tag","warnings","tagMapper","mapGenericTag","Error","genericTagMapper","tagTypes"],"mappings":"AAAA;;;;;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,iBAAR,GAA4B,KAAK,CAAjC;;AACA,IAAMC,aAAa,GAAGC,OAAO,CAAC,sBAAD,CAA7B;;AACA,IAAMC,iBAAiB,GAAGD,OAAO,CAAC,0BAAD,CAAjC;;AACA,IAAME,cAAc,GAAGF,OAAO,CAAC,qBAAD,CAA9B;;AACA,IAAMG,iBAAiB,GAAGH,OAAO,CAAC,0BAAD,CAAjC;;AACA,IAAMI,gBAAgB,GAAGJ,OAAO,CAAC,yBAAD,CAAhC;;AACA,IAAMK,cAAc,GAAGL,OAAO,CAAC,qBAAD,CAA9B;;AACA,IAAMM,iBAAiB,GAAGN,OAAO,CAAC,+BAAD,CAAjC;;AACA,IAAMO,gBAAgB,GAAGP,OAAO,CAAC,wBAAD,CAAhC;;AACA,IAAMQ,mBAAmB,GAAGR,OAAO,CAAC,+BAAD,CAAnC;;IACMF,iB;AACF,+BAAc;AAAA;;AAAA;;AACV,SAAKW,UAAL,GAAkB,EAAlB;AACA,KACI,IAAIV,aAAa,CAACW,cAAlB,EADJ,EAEI,IAAIP,iBAAiB,CAACQ,eAAtB,EAFJ,EAGI,IAAIV,iBAAiB,CAACW,eAAtB,EAHJ,EAII,IAAIP,cAAc,CAACQ,YAAnB,EAJJ,EAKI,IAAIR,cAAc,CAACQ,YAAnB,EALJ,EAMI,IAAIP,iBAAiB,CAACQ,eAAtB,EANJ,EAOI,IAAIV,gBAAgB,CAACW,cAArB,EAPJ,EAQI,IAAIb,cAAc,CAACc,YAAnB,EARJ,EASI,IAAIT,gBAAgB,CAACU,iBAArB,EATJ,EAUI,IAAIT,mBAAmB,CAACU,iBAAxB,EAVJ,EAWEC,OAXF,CAWU,UAAAC,MAAM,EAAI;AAChB,MAAA,KAAI,CAACC,iBAAL,CAAuBD,MAAvB;AACH,KAbD;AAcH;AACD;AACJ;AACA;AACA;AACA;AACA;AACA;;;;;WACI,gBAAOE,OAAP,EAAgBC,GAAhB,EAAqBC,QAArB,EAA+B;AAC3B,UAAMC,SAAS,GAAG,KAAKhB,UAAL,CAAgBa,OAAhB,CAAlB;;AACA,UAAIG,SAAJ,EAAe;AACX,eAAO,KAAKhB,UAAL,CAAgBa,OAAhB,EAAyBI,aAAzB,CAAuCH,GAAvC,EAA4CC,QAA5C,CAAP;AACH;;AACD,YAAM,IAAIG,KAAJ,CAAU,mDAAmDL,OAA7D,CAAN;AACH;;;WACD,2BAAkBM,gBAAlB,EAAoC;AAAA,iDACVA,gBAAgB,CAACC,QADP;AAAA;;AAAA;AAChC,4DAAiD;AAAA,cAAtCP,OAAsC;AAC7C,eAAKb,UAAL,CAAgBa,OAAhB,IAA2BM,gBAA3B;AACH;AAH+B;AAAA;AAAA;AAAA;AAAA;AAInC;;;;;;AAELhC,OAAO,CAACE,iBAAR,GAA4BA,iBAA5B","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CombinedTagMapper = void 0;\r\nconst ID3v1TagMap_1 = require(\"../id3v1/ID3v1TagMap\");\r\nconst ID3v24TagMapper_1 = require(\"../id3v2/ID3v24TagMapper\");\r\nconst AsfTagMapper_1 = require(\"../asf/AsfTagMapper\");\r\nconst ID3v22TagMapper_1 = require(\"../id3v2/ID3v22TagMapper\");\r\nconst APEv2TagMapper_1 = require(\"../apev2/APEv2TagMapper\");\r\nconst MP4TagMapper_1 = require(\"../mp4/MP4TagMapper\");\r\nconst VorbisTagMapper_1 = require(\"../ogg/vorbis/VorbisTagMapper\");\r\nconst RiffInfoTagMap_1 = require(\"../riff/RiffInfoTagMap\");\r\nconst MatroskaTagMapper_1 = require(\"../matroska/MatroskaTagMapper\");\r\nclass CombinedTagMapper {\r\n    constructor() {\r\n        this.tagMappers = {};\r\n        [\r\n            new ID3v1TagMap_1.ID3v1TagMapper(),\r\n            new ID3v22TagMapper_1.ID3v22TagMapper(),\r\n            new ID3v24TagMapper_1.ID3v24TagMapper(),\r\n            new MP4TagMapper_1.MP4TagMapper(),\r\n            new MP4TagMapper_1.MP4TagMapper(),\r\n            new VorbisTagMapper_1.VorbisTagMapper(),\r\n            new APEv2TagMapper_1.APEv2TagMapper(),\r\n            new AsfTagMapper_1.AsfTagMapper(),\r\n            new RiffInfoTagMap_1.RiffInfoTagMapper(),\r\n            new MatroskaTagMapper_1.MatroskaTagMapper()\r\n        ].forEach(mapper => {\r\n            this.registerTagMapper(mapper);\r\n        });\r\n    }\r\n    /**\r\n     * Convert native to generic (common) tags\r\n     * @param tagType Originating tag format\r\n     * @param tag     Native tag to map to a generic tag id\r\n     * @param warnings\r\n     * @return Generic tag result (output of this function)\r\n     */\r\n    mapTag(tagType, tag, warnings) {\r\n        const tagMapper = this.tagMappers[tagType];\r\n        if (tagMapper) {\r\n            return this.tagMappers[tagType].mapGenericTag(tag, warnings);\r\n        }\r\n        throw new Error(\"No generic tag mapper defined for tag-format: \" + tagType);\r\n    }\r\n    registerTagMapper(genericTagMapper) {\r\n        for (const tagType of genericTagMapper.tagTypes) {\r\n            this.tagMappers[tagType] = genericTagMapper;\r\n        }\r\n    }\r\n}\r\nexports.CombinedTagMapper = CombinedTagMapper;\r\n"]},"metadata":{},"sourceType":"script"}