{"ast":null,"code":"var _jsxFileName = \"/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/search/Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport SearchDropDown from './resultTypes/SearchDropDown';\nimport Queries from '../../graphql/queries';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  IS_LOGGED_IN\n} = Queries;\n\nconst Search = ({\n  searchClose,\n  closeSearch,\n  activityOpen,\n  setActivityOpen,\n  detailsOpen,\n  setDetailsOpen,\n  searchOpen,\n  openSearch,\n  mobile,\n  user\n}) => {\n  _s();\n\n  let [input, setInput] = useState('');\n  let [followedActive, setFollowedActive] = useState(mobile ? true : false);\n  let [active, setActive] = useState(false);\n  useEffect(() => {\n    if (searchClose) {\n      //eslint-disable-next-line\n      setFollowedActive(active = false); //eslint-disable-next-line\n\n      closeSearch(searchClose = false);\n    }\n  }, [searchClose, mobile, searchOpen]);\n\n  const onBlur = e => {\n    if (!e.relatedTarget) {\n      if (mobile) {\n        openSearch(searchOpen = false);\n      } else {\n        setActive(active = false);\n        setFollowedActive(followedActive = false);\n      }\n    }\n  };\n\n  const {\n    data\n  } = useQuery(IS_LOGGED_IN);\n\n  if (data.isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchBar\",\n      tabIndex: \"0\",\n      onBlur: e => onBlur(e),\n      onFocus: e => {\n        if (!e.relatedTarget || e.relatedTarget.localName === 'a') {\n          setFollowedActive(followedActive = true);\n\n          if (!mobile) {\n            setActivityOpen(activityOpen = false);\n            setDetailsOpen(detailsOpen = false);\n          }\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"searchIcon\",\n        src: \"https://img.icons8.com/material-rounded/24/000000/search.png\",\n        alt: \"\",\n        style: {\n          opacity: .3\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"searchBarInput\",\n        type: \"text\",\n        value: input,\n        placeholder: 'Search Rumblr',\n        onClick: () => {\n          var el = document.querySelector('.searchIcon');\n          el.style.opacity = '1';\n\n          if (!mobile) {\n            setDetailsOpen(detailsOpen = false);\n            setActivityOpen(activityOpen = false);\n          }\n        },\n        onBlur: () => {\n          var el = document.querySelector('.searchIcon');\n          el.style.opacity = '.3';\n        },\n        onChange: e => {\n          if (e.target.value === \"\") {\n            setInput(input = e.target.value);\n            setFollowedActive(followedActive = true);\n          } else {\n            setInput(input = e.target.value);\n            setFollowedActive(followedActive = false);\n            setActive(active = true);\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchDropDown, {\n        user: user,\n        input: input,\n        followedActive: followedActive,\n        active: active,\n        setActive: setActive\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchBar\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"searchIcon\",\n        src: \"https://img.icons8.com/material-rounded/24/000000/search.png\",\n        alt: \"\",\n        style: {\n          opacity: .3\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"searchBarInput\",\n        type: \"text\",\n        value: input,\n        placeholder: 'Search Rumblr',\n        onClick: () => {\n          var el = document.querySelector('.searchIcon');\n          el.style.opacity = '1';\n        },\n        onBlur: () => {\n          var el = document.querySelector('.searchIcon');\n          el.style.opacity = '.3';\n        },\n        onChange: e => setInput(input = e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(Search, \"jlmKBERiJObDv6XdZEcT4uC0xrg=\", false, function () {\n  return [useQuery];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/search/Search.js"],"names":["React","useEffect","useState","useQuery","SearchDropDown","Queries","IS_LOGGED_IN","Search","searchClose","closeSearch","activityOpen","setActivityOpen","detailsOpen","setDetailsOpen","searchOpen","openSearch","mobile","user","input","setInput","followedActive","setFollowedActive","active","setActive","onBlur","e","relatedTarget","data","isLoggedIn","localName","opacity","el","document","querySelector","style","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useQuery } from '@apollo/client';\n\nimport SearchDropDown from './resultTypes/SearchDropDown';\n\nimport Queries from '../../graphql/queries';\nconst { IS_LOGGED_IN } = Queries;\n\nconst Search = ({\n  searchClose,\n  closeSearch,\n  activityOpen,\n  setActivityOpen,\n  detailsOpen,\n  setDetailsOpen,\n  searchOpen,\n  openSearch,\n  mobile,\n  user\n}) => {\n  let [input, setInput] = useState('');\n  let [followedActive, setFollowedActive] = useState(mobile ? true : false)\n  let [active, setActive] = useState(false);\n  \n  useEffect(() => {\n    if (searchClose) {\n      //eslint-disable-next-line\n      setFollowedActive(active = false)\n      //eslint-disable-next-line\n      closeSearch(searchClose = false)\n    }\n  }, [searchClose, mobile, searchOpen])\n\n  const onBlur = (e) => {\n    if (!e.relatedTarget) {\n      if (mobile) {\n        openSearch(searchOpen = false)\n      } else {\n        setActive(active = false)\n        setFollowedActive(followedActive = false)\n      }\n    }\n  }\n\n  const { data } = useQuery(IS_LOGGED_IN);\n\n  if (data.isLoggedIn) {\n    return (\n      <div\n        className='searchBar'\n        tabIndex='0'\n        onBlur={e => onBlur(e)}\n        onFocus={e => {\n          if (\n            !e.relatedTarget || \n            e.relatedTarget.localName === 'a'\n          ) {\n            setFollowedActive(followedActive = true)\n\n            if (!mobile) {\n              setActivityOpen(activityOpen = false)\n              setDetailsOpen(detailsOpen = false)\n            }\n          }\n        }}\n      >\n        <img\n          className='searchIcon'\n          src=\"https://img.icons8.com/material-rounded/24/000000/search.png\"\n          alt=''\n          style={{opacity: .3}}\n        />\n        <input\n          className='searchBarInput'\n          type='text'\n          value={input}\n          placeholder={'Search Rumblr'}\n          onClick={() => {\n            var el = document.querySelector('.searchIcon')\n            el.style.opacity = '1'\n            if (!mobile) {\n              setDetailsOpen(detailsOpen = false)\n              setActivityOpen(activityOpen = false)\n            }\n          }}\n          onBlur={() => {\n            var el = document.querySelector('.searchIcon')\n            el.style.opacity = '.3'\n          }}\n          onChange={e => {\n              if (e.target.value === \"\") {\n                setInput(input = e.target.value)\n                setFollowedActive(followedActive = true)\n              } else {\n                setInput(input = e.target.value)\n                setFollowedActive(followedActive = false)\n                setActive(active = true)\n              }\n          }}\n        />\n\n        <SearchDropDown\n          user={user}\n          input={input}\n          followedActive={followedActive}\n          active={active}\n          setActive={setActive}\n        />\n      </div>\n    )\n  } else {\n    return (\n      <div\n        className='searchBar'\n      >\n        <img\n          className='searchIcon'\n          src=\"https://img.icons8.com/material-rounded/24/000000/search.png\"\n          alt=''\n          style={{opacity: .3}}\n        />\n        <input\n          className='searchBarInput'\n          type='text'\n          value={input}\n          placeholder={'Search Rumblr'}\n          onClick={() => {\n            var el = document.querySelector('.searchIcon')\n            el.style.opacity = '1'\n          }}\n          onBlur={() => {\n            var el = document.querySelector('.searchIcon')\n            el.style.opacity = '.3'\n          }}\n          onChange={e => setInput(input = e.target.value)}\n        />\n      </div>\n    )\n  }\n\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}