{"ast":null,"code":"import React,{useEffect}from'react';import ReactPlayer from'react-player';import PostFormUtil from'../../../functions/post_form_util.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var previewVideoFile=PostFormUtil.previewVideoFile,previewVideoLink=PostFormUtil.previewVideoLink,removeVideoObj=PostFormUtil.removeVideoObj;var VideoInput=function VideoInput(_ref){var displayBodyImageAndTextInput=_ref.displayBodyImageAndTextInput,setDisplayBodyImageAndTextInput=_ref.setDisplayBodyImageAndTextInput,post=_ref.post,update=_ref.update,videoFile=_ref.videoFile,setVideoFile=_ref.setVideoFile,videoObj=_ref.videoObj,setVideoObj=_ref.setVideoObj,objsToClean=_ref.objsToClean,active=_ref.active,setActive=_ref.setActive,isLink=_ref.isLink,setIsLink=_ref.setIsLink;useEffect(function(){if(post){//eslint-disable-next-line\nsetVideoObj(videoObj=post.videoLink.url);//eslint-disable-next-line\nsetActive(active=true);}},[]);useEffect(function(){if(Object.keys(videoFile).length!==0||Object.keys(videoObj).length!==0){//eslint-disable-next-line\nsetDisplayBodyImageAndTextInput(displayBodyImageAndTextInput=true);}},[videoFile,videoObj]);useEffect(function(){if(update&&videoObj){var el=document.querySelector('.videoLinkInput');if(el){el.value='';}}},[videoObj,update]);var renderUpdateFileInput=function renderUpdateFileInput(){if(update){return/*#__PURE__*/_jsxs(\"div\",{className:\"videoFileInputContainer\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"videoFileInputCustomLabel\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"videoIcon\",src:\"https://img.icons8.com/nolan/64/camcorder-pro.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload a different video file\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"videoFileInput\",type:\"file\",accept:\".MOV, .mp3, .mp4, .wav\",onChange:function onChange(e){previewVideoFile(e,post,videoObj,setVideoObj,videoFile,setVideoFile,active,setActive,objsToClean);document.getElementById('videoFileInput').value='';}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"linkContainer\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"linkIcon\",src:\"https://img.icons8.com/flat-round/64/000000/link--v1.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"videoLinkInput\",placeholder:\"Paste a new url\",onChange:function onChange(e){previewVideoLink(e,post,videoObj,setVideoObj,videoFile,setVideoFile,active,setActive,objsToClean);setIsLink(isLink=true);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"borderMiddle\"})]});}};if(active){return/*#__PURE__*/_jsxs(\"div\",{className:\"videoPlayerContainer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"removeBtn\",type:\"button\",onClick:function onClick(){removeVideoObj(post,videoObj,setVideoObj,videoFile,setVideoFile,active,setActive,isLink,setIsLink,objsToClean);setDisplayBodyImageAndTextInput(displayBodyImageAndTextInput=false);},children:/*#__PURE__*/_jsx(\"span\",{children:\"x\"})}),/*#__PURE__*/_jsx(ReactPlayer,{width:'100%',url:videoObj,controls:true}),renderUpdateFileInput()]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"videoFileInputContainer\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"videoFileInputCustomLabel\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"videoIcon\",src:\"https://img.icons8.com/nolan/64/camcorder-pro.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload a video file\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"videoFileInput\",type:\"file\",accept:\".MOV, .mp3, .wav\",onChange:function onChange(e){previewVideoFile(e,post,videoObj,setVideoObj,videoFile,setVideoFile,active,setActive,objsToClean);document.getElementById('videoFileInput').value='';}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"linkContainer\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"linkIcon\",src:\"https://img.icons8.com/flat-round/64/000000/link--v1.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Paste a url...\",onChange:function onChange(e){previewVideoLink(e,post,videoObj,setVideoObj,videoFile,setVideoFile,active,setActive,objsToClean);setIsLink(isLink=true);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"borderMiddle\"})]});}};export default VideoInput;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/posts/util/components/forms/inputTypes/Video_Input.js"],"names":["React","useEffect","ReactPlayer","PostFormUtil","previewVideoFile","previewVideoLink","removeVideoObj","VideoInput","displayBodyImageAndTextInput","setDisplayBodyImageAndTextInput","post","update","videoFile","setVideoFile","videoObj","setVideoObj","objsToClean","active","setActive","isLink","setIsLink","videoLink","url","Object","keys","length","el","document","querySelector","value","renderUpdateFileInput","e","getElementById"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\n\nimport ReactPlayer from 'react-player';\n\nimport PostFormUtil from '../../../functions/post_form_util.js'\nconst { previewVideoFile, previewVideoLink, \n        removeVideoObj } = PostFormUtil;\n\nconst VideoInput = ({\n  displayBodyImageAndTextInput,\n  setDisplayBodyImageAndTextInput,\n  post,\n  update,\n  videoFile,\n  setVideoFile,\n  videoObj, \n  setVideoObj,\n  objsToClean,\n  active, \n  setActive,\n  isLink, \n  setIsLink\n}) => {\n\n  useEffect(() => {\n    if (post) {\n      //eslint-disable-next-line\n      setVideoObj(videoObj = post.videoLink.url)\n      //eslint-disable-next-line\n      setActive(active = true)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (\n        Object.keys(videoFile).length !== 0 || \n        Object.keys(videoObj).length !== 0\n      ) {\n\n      //eslint-disable-next-line\n      setDisplayBodyImageAndTextInput(displayBodyImageAndTextInput = true)\n    }\n  }, [videoFile, videoObj])\n\n  useEffect(() => {\n    if (update && videoObj) {\n      var el = document.querySelector('.videoLinkInput')\n\n      if (el) {\n        el.value = ''\n      }\n    }\n  }, [videoObj, update])\n\n  const renderUpdateFileInput = () => {\n    if (update) {\n      return (\n        <div\n          className='videoFileInputContainer'\n        >\n          <label\n            className='videoFileInputCustomLabel'\n          >\n          <div>\n            <img \n              className='videoIcon'\n              src=\"https://img.icons8.com/nolan/64/camcorder-pro.png\"\n              alt=''\n            />\n            <span>Upload a different video file</span>\n          </div>\n          <input\n            id='videoFileInput'\n            type='file'\n            accept='.MOV, .mp3, .mp4, .wav'\n            onChange={e => {\n              previewVideoFile(\n                e,\n                post,\n                videoObj,\n                setVideoObj,\n                videoFile,\n                setVideoFile,\n                active, \n                setActive,\n                objsToClean\n              )\n\n              document.getElementById('videoFileInput').value = ''\n            }}\n          />\n          </label>\n\n          <div\n            className='linkContainer'\n          >\n          <img \n            className='linkIcon'\n            src=\"https://img.icons8.com/flat-round/64/000000/link--v1.png\"\n            alt=''\n          />\n          <textarea\n            className='videoLinkInput'\n            placeholder='Paste a new url'\n            onChange={e => {\n              previewVideoLink(\n                e,\n                post,\n                videoObj,\n                setVideoObj,\n                videoFile,\n                setVideoFile,\n                active, \n                setActive,\n                objsToClean\n              )\n\n              setIsLink(isLink = true) \n            }}\n          ></textarea>\n          </div>\n          <div className='borderMiddle' />\n        </div>\n      )\n    }\n  }\n\n  if (active) {\n    return (\n      <div\n        className='videoPlayerContainer'\n      >\n        <button\n          className='removeBtn'\n          type='button'\n          onClick={() => {\n              removeVideoObj(\n              post,\n              videoObj,\n              setVideoObj,\n              videoFile,\n              setVideoFile,\n              active,\n              setActive,\n              isLink,\n              setIsLink,\n              objsToClean\n            )\n\n            setDisplayBodyImageAndTextInput(displayBodyImageAndTextInput = false)\n          }}\n        >\n          <span>x</span>\n        </button>\n        <ReactPlayer\n          width={'100%'}\n          url={videoObj}\n          controls\n        />\n        {renderUpdateFileInput()}\n      </div>\n    )\n  } else {\n    return(\n      <div\n        className='videoFileInputContainer'\n      >\n        <label\n          className='videoFileInputCustomLabel'\n        >\n          <div>\n            <img \n              className='videoIcon'\n              src=\"https://img.icons8.com/nolan/64/camcorder-pro.png\"\n              alt=''\n            />\n            <span>Upload a video file</span>\n          </div>\n          <input\n            id='videoFileInput'\n            type='file'\n            accept='.MOV, .mp3, .wav'\n            onChange={e => {\n              previewVideoFile(\n                e,\n                post,\n                videoObj,\n                setVideoObj,\n                videoFile,\n                setVideoFile,\n                active, \n                setActive,\n                objsToClean\n              )\n\n              document.getElementById('videoFileInput').value = ''\n            }}\n          />\n        </label>\n\n        <div\n          className='linkContainer'\n        >\n          <img \n            className='linkIcon'\n            src=\"https://img.icons8.com/flat-round/64/000000/link--v1.png\"\n            alt=''\n          />\n          <textarea\n            placeholder='Paste a url...'\n            onChange={e => {\n              previewVideoLink(\n                e,\n                post,\n                videoObj,\n                setVideoObj,\n                videoFile,\n                setVideoFile,\n                active,\n                setActive,\n                objsToClean\n              )\n\n              setIsLink(isLink = true)\n            }}\n          ></textarea>\n        </div>\n        <div  className='borderMiddle' />\n      </div>\n    )\n  }\n}\n\nexport default VideoInput;"]},"metadata":{},"sourceType":"module"}