{"ast":null,"code":"import _slicedToArray from\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useQuery}from'@apollo/client';import SearchDropDown from'./resultTypes/SearchDropDown';import Queries from'../../graphql/queries';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IS_LOGGED_IN=Queries.IS_LOGGED_IN;var Search=function Search(_ref){var searchClose=_ref.searchClose,closeSearch=_ref.closeSearch,activityOpen=_ref.activityOpen,setActivityOpen=_ref.setActivityOpen,detailsOpen=_ref.detailsOpen,setDetailsOpen=_ref.setDetailsOpen,searchOpen=_ref.searchOpen,openSearch=_ref.openSearch,mobile=_ref.mobile,user=_ref.user;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(mobile?true:false),_useState4=_slicedToArray(_useState3,2),followedActive=_useState4[0],setFollowedActive=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),active=_useState6[0],setActive=_useState6[1];useEffect(function(){if(searchClose){//eslint-disable-next-line\nsetFollowedActive(active=false);//eslint-disable-next-line\ncloseSearch(searchClose=false);}},[searchClose,mobile,searchOpen]);var _onBlur=function onBlur(e){if(!e.relatedTarget){if(mobile){openSearch(searchOpen=false);}else{setActive(active=false);setFollowedActive(followedActive=false);}}};var _useQuery=useQuery(IS_LOGGED_IN),data=_useQuery.data;if(data.isLoggedIn){return/*#__PURE__*/_jsxs(\"div\",{className:\"searchBar\",tabIndex:\"0\",onBlur:function onBlur(e){return _onBlur(e);},onFocus:function onFocus(e){if(!e.relatedTarget||e.relatedTarget.localName==='a'){setFollowedActive(followedActive=true);if(!mobile){setActivityOpen(activityOpen=false);setDetailsOpen(detailsOpen=false);}}},children:[/*#__PURE__*/_jsx(\"img\",{className:\"searchIcon\",src:\"https://img.icons8.com/material-rounded/24/000000/search.png\",alt:\"\",style:{opacity:.3}}),/*#__PURE__*/_jsx(\"input\",{className:\"searchBarInput\",type:\"text\",value:input,placeholder:'Search Rumblr',onClick:function onClick(){var el=document.querySelector('.searchIcon');el.style.opacity='1';if(!mobile){setDetailsOpen(detailsOpen=false);setActivityOpen(activityOpen=false);}},onBlur:function onBlur(){var el=document.querySelector('.searchIcon');el.style.opacity='.3';},onChange:function onChange(e){if(e.target.value===\"\"){setInput(input=e.target.value);setFollowedActive(followedActive=true);}else{setInput(input=e.target.value);setFollowedActive(followedActive=false);setActive(active=true);}}}),/*#__PURE__*/_jsx(SearchDropDown,{user:user,input:input,followedActive:followedActive,active:active,setActive:setActive})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"searchBar\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"searchIcon\",src:\"https://img.icons8.com/material-rounded/24/000000/search.png\",alt:\"\",style:{opacity:.3}}),/*#__PURE__*/_jsx(\"input\",{className:\"searchBarInput\",type:\"text\",value:input,placeholder:'Search Rumblr',onClick:function onClick(){var el=document.querySelector('.searchIcon');el.style.opacity='1';},onBlur:function onBlur(){var el=document.querySelector('.searchIcon');el.style.opacity='.3';},onChange:function onChange(e){return setInput(input=e.target.value);}})]});}};export default Search;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/search/Search.js"],"names":["React","useEffect","useState","useQuery","SearchDropDown","Queries","IS_LOGGED_IN","Search","searchClose","closeSearch","activityOpen","setActivityOpen","detailsOpen","setDetailsOpen","searchOpen","openSearch","mobile","user","input","setInput","followedActive","setFollowedActive","active","setActive","onBlur","e","relatedTarget","data","isLoggedIn","localName","opacity","el","document","querySelector","style","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useQuery } from '@apollo/client';\n\nimport SearchDropDown from './resultTypes/SearchDropDown';\n\nimport Queries from '../../graphql/queries';\nconst { IS_LOGGED_IN } = Queries;\n\nconst Search = ({\n  searchClose,\n  closeSearch,\n  activityOpen,\n  setActivityOpen,\n  detailsOpen,\n  setDetailsOpen,\n  searchOpen,\n  openSearch,\n  mobile,\n  user\n}) => {\n  let [input, setInput] = useState('');\n  let [followedActive, setFollowedActive] = useState(mobile ? true : false)\n  let [active, setActive] = useState(false);\n  \n  useEffect(() => {\n    if (searchClose) {\n      //eslint-disable-next-line\n      setFollowedActive(active = false)\n      //eslint-disable-next-line\n      closeSearch(searchClose = false)\n    }\n  }, [searchClose, mobile, searchOpen])\n\n  const onBlur = (e) => {\n    if (!e.relatedTarget) {\n      if (mobile) {\n        openSearch(searchOpen = false)\n      } else {\n        setActive(active = false)\n        setFollowedActive(followedActive = false)\n      }\n    }\n  }\n\n  const { data } = useQuery(IS_LOGGED_IN);\n\n  if (data.isLoggedIn) {\n    return (\n      <div\n        className='searchBar'\n        tabIndex='0'\n        onBlur={e => onBlur(e)}\n        onFocus={e => {\n          if (\n            !e.relatedTarget || \n            e.relatedTarget.localName === 'a'\n          ) {\n            setFollowedActive(followedActive = true)\n\n            if (!mobile) {\n              setActivityOpen(activityOpen = false)\n              setDetailsOpen(detailsOpen = false)\n            }\n          }\n        }}\n      >\n        <img\n          className='searchIcon'\n          src=\"https://img.icons8.com/material-rounded/24/000000/search.png\"\n          alt=''\n          style={{opacity: .3}}\n        />\n        <input\n          className='searchBarInput'\n          type='text'\n          value={input}\n          placeholder={'Search Rumblr'}\n          onClick={() => {\n            var el = document.querySelector('.searchIcon')\n            el.style.opacity = '1'\n            if (!mobile) {\n              setDetailsOpen(detailsOpen = false)\n              setActivityOpen(activityOpen = false)\n            }\n          }}\n          onBlur={() => {\n            var el = document.querySelector('.searchIcon')\n            el.style.opacity = '.3'\n          }}\n          onChange={e => {\n              if (e.target.value === \"\") {\n                setInput(input = e.target.value)\n                setFollowedActive(followedActive = true)\n              } else {\n                setInput(input = e.target.value)\n                setFollowedActive(followedActive = false)\n                setActive(active = true)\n              }\n          }}\n        />\n\n        <SearchDropDown\n          user={user}\n          input={input}\n          followedActive={followedActive}\n          active={active}\n          setActive={setActive}\n        />\n      </div>\n    )\n  } else {\n    return (\n      <div\n        className='searchBar'\n      >\n        <img\n          className='searchIcon'\n          src=\"https://img.icons8.com/material-rounded/24/000000/search.png\"\n          alt=''\n          style={{opacity: .3}}\n        />\n        <input\n          className='searchBarInput'\n          type='text'\n          value={input}\n          placeholder={'Search Rumblr'}\n          onClick={() => {\n            var el = document.querySelector('.searchIcon')\n            el.style.opacity = '1'\n          }}\n          onBlur={() => {\n            var el = document.querySelector('.searchIcon')\n            el.style.opacity = '.3'\n          }}\n          onChange={e => setInput(input = e.target.value)}\n        />\n      </div>\n    )\n  }\n\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}