{"ast":null,"code":"import _objectSpread from\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"component\",\"path\",\"exact\",\"routeType\"];import React from'react';import{Route,Redirect}from'react-router-dom';import{useQuery}from'@apollo/client';import Queries from'../graphql/queries';import{jsx as _jsx}from\"react/jsx-runtime\";var IS_LOGGED_IN=Queries.IS_LOGGED_IN;var AuthRoute=function AuthRoute(_ref){var Component=_ref.component,path=_ref.path,exact=_ref.exact,routeType=_ref.routeType,rest=_objectWithoutProperties(_ref,_excluded);var _useQuery=useQuery(IS_LOGGED_IN),data=_useQuery.data;if(routeType==='auth'){return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({path:path,exact:exact},rest),{},{render:function render(props){return!data.isLoggedIn?/*#__PURE__*/_jsx(Component,_objectSpread({},props)):/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}));}else{return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){return data.isLoggedIn?/*#__PURE__*/_jsx(Component,_objectSpread({},props)):/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}}));}};export default AuthRoute;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/util/route_util.js"],"names":["React","Route","Redirect","useQuery","Queries","IS_LOGGED_IN","AuthRoute","Component","component","path","exact","routeType","rest","data","props","isLoggedIn"],"mappings":"gZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,kBAAhC,CACA,OAASC,QAAT,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,C,2CACA,GAAQC,CAAAA,YAAR,CAAyBD,OAAzB,CAAQC,YAAR,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAMZ,IALOC,CAAAA,SAKP,MALJC,SAKI,CAJJC,IAII,MAJJA,IAII,CAHJC,KAGI,MAHJA,KAGI,CAFJC,SAEI,MAFJA,SAEI,CADDC,IACC,0CACJ,cAAiBT,QAAQ,CAACE,YAAD,CAAzB,CAAQQ,IAAR,WAAQA,IAAR,CACA,GAAIF,SAAS,GAAK,MAAlB,CAA0B,CACxB,mBACE,KAAC,KAAD,8BACE,IAAI,CAAEF,IADR,CAEE,KAAK,CAAEC,KAFT,EAGME,IAHN,MAIE,MAAM,CAAE,gBAAAE,KAAK,QACX,CAACD,IAAI,CAACE,UAAN,cAAmB,KAAC,SAAD,kBAAeD,KAAf,EAAnB,cAA8C,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EADnC,EAJf,GADF,CAUD,CAXD,IAWO,CACL,mBACE,KAAC,KAAD,gCACMF,IADN,MAEE,MAAM,CACJ,gBAAAE,KAAK,QAAID,CAAAA,IAAI,CAACE,UAAL,cACP,KAAC,SAAD,kBAAeD,KAAf,EADO,cAGP,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAHG,EAHT,GADF,CAYD,CACF,CAjCD,CAmCA,cAAeR,CAAAA,SAAf","sourcesContent":["import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport Queries from '../graphql/queries';\nconst { IS_LOGGED_IN } = Queries;\n\nconst AuthRoute = ({\n  component: Component,\n  path,\n  exact,\n  routeType,\n  ...rest\n}) => {\n  const { data } = useQuery(IS_LOGGED_IN);\n  if (routeType === 'auth') {\n    return (\n      <Route\n        path={path}\n        exact={exact}\n        {...rest}\n        render={props =>\n          !data.isLoggedIn ? <Component {...props} /> : <Redirect to='/' />\n        }\n      />\n    )\n  } else {\n    return (\n      <Route\n        {...rest}\n        render={\n          props => data.isLoggedIn ? (\n            <Component {...props}/>\n          ) : (\n            <Redirect to='/login' />\n          )\n        }\n      />\n    )\n  }\n}\n\nexport default AuthRoute;"]},"metadata":{},"sourceType":"module"}