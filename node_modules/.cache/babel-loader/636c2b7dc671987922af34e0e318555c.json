{"ast":null,"code":"import _slicedToArray from\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import{Link}from'react-router-dom';import Logout from'../auth/Logout.js';import ProfilePic from'../user/util/components/Profile_Pic';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserDetails=function UserDetails(_ref){var user=_ref.user,navActive=_ref.navActive,setNavActive=_ref.setNavActive,detailsClose=_ref.detailsClose,detailsOpen=_ref.detailsOpen,setDetailsOpen=_ref.setDetailsOpen;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var listenerRef=useRef(null);useEffect(function(){var el=document.querySelector('.userDetails');if(el){el.focus();}//eslint-disable-next-line\n},[detailsClose,detailsOpen,active]);if(detailsOpen){var totalLikeCount=user.totalLikeCount,userFollowCount=user.userFollowCount,userPostsCount=user.userPostsCount,followersCount=user.followersCount,blogName=user.blogName,blogDescription=user.blogDescription;return/*#__PURE__*/_jsxs(\"div\",{className:\"userDetails\",tabIndex:0,onBlur:function onBlur(e){if(!e.relatedTarget){setDetailsOpen(detailsOpen=false);}},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userHeader\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Account\"}),/*#__PURE__*/_jsx(Logout,{listener:listenerRef.current,active:active,setActive:setActive})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/likes\",onClick:function onClick(){setNavActive(navActive=false);},children:[/*#__PURE__*/_jsx(\"img\",{className:\"detailIcon\",src:\"https://img.icons8.com/material-rounded/24/000000/like--v1.png\",alt:\"\"}),\"Likes\"]}),/*#__PURE__*/_jsx(\"span\",{children:totalLikeCount})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/following\",onClick:function onClick(){setNavActive(navActive=false);},children:[/*#__PURE__*/_jsx(\"img\",{className:\"detailIcon\",src:\"https://img.icons8.com/metro/26/000000/add-user-male.png\",alt:\"\"}),\"Following\"]}),/*#__PURE__*/_jsx(\"span\",{children:userFollowCount})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/settings/account\",onClick:function onClick(){setNavActive(navActive=false);},children:[/*#__PURE__*/_jsx(\"img\",{className:\"detailIcon\",src:\"https://img.icons8.com/material-sharp/24/000000/settings.png\",alt:\"\"}),\"Settings\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"separator\"}),/*#__PURE__*/_jsx(\"li\",{className:\"blogDescription\",children:/*#__PURE__*/_jsxs(Link,{to:\"/view/blog/\".concat(blogName),onClick:function onClick(){setNavActive(navActive=false);},children:[/*#__PURE__*/_jsx(ProfilePic,{user:user,standaloneLink:false}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:blogName}),/*#__PURE__*/_jsx(\"p\",{children:blogDescription})]})]})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{className:\"blogDetailData\",to:\"/view/blog/\".concat(blogName),onClick:function onClick(){setNavActive(navActive=false);},children:/*#__PURE__*/_jsx(\"p\",{children:\"Posts\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"detailCount\",children:userPostsCount})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{className:\"blogDetailData\",to:\"/followers\",onClick:function onClick(){setNavActive(navActive=false);},children:/*#__PURE__*/_jsx(\"p\",{children:\"Followers\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"detailCount\",children:followersCount})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"blogDetailData\",to:\"/activity\",onClick:function onClick(){setNavActive(navActive=false);},children:/*#__PURE__*/_jsx(\"p\",{children:\"Activity\"})})})]})]});}else{return/*#__PURE__*/_jsx(\"div\",{});}};// const handleByLine = (user) => {\n//   var words, descriptionArr = []\n//   if (user.blogDescription) {\n//     words = user.blogDescription.split(' ')\n//     if (words.length > 8) {\n//       descriptionArr = words.slice(0, 8)\n//       return (\n//         <p>{descriptionArr.join(' ') + '...'}</p>\n//       )\n//     } else {\n//       descriptionArr = [...words]\n//       return (\n//         <p>{descriptionArr.join(' ')}</p>\n//       )\n//     }\n//   } else {\n//     return (\n//       <p></p>\n//     )\n//   }\n// }\nexport default UserDetails;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/nav/User_Details.js"],"names":["React","useEffect","useState","useRef","Link","Logout","ProfilePic","UserDetails","user","navActive","setNavActive","detailsClose","detailsOpen","setDetailsOpen","active","setActive","listenerRef","el","document","querySelector","focus","totalLikeCount","userFollowCount","userPostsCount","followersCount","blogName","blogDescription","e","relatedTarget","current"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Logout from '../auth/Logout.js';\nimport ProfilePic from '../user/util/components/Profile_Pic';\n\nconst UserDetails = ({\n  user,\n  navActive,\n  setNavActive,\n  detailsClose,\n  detailsOpen,\n  setDetailsOpen\n}) => {\n  let [active, setActive] = useState(false)\n  let listenerRef = useRef(null)\n\n  useEffect(() => {\n    var el = document.querySelector('.userDetails')\n\n    if (el) {\n      el.focus()\n    }\n    \n    //eslint-disable-next-line\n  }, [detailsClose, detailsOpen, active])\n  \n  if (detailsOpen) {\n    const { \n      totalLikeCount,\n      userFollowCount, \n      userPostsCount,\n      followersCount,\n      blogName,\n      blogDescription } = user;\n\n    return (\n      <div\n        className='userDetails'\n        tabIndex={0}\n        onBlur={e => {\n          if (!e.relatedTarget) {\n            setDetailsOpen(detailsOpen = false)\n          }\n        }}\n      >\n        <div\n          className='userHeader'\n        >\n          <span>Account</span>\n\n          <Logout\n            listener={listenerRef.current}\n            active={active}\n            setActive={setActive}\n          />\n        </div>\n      \n        <ul>\n\n          <li>\n            <Link\n              to='/likes'\n              onClick={() => {\n                setNavActive(navActive = false)\n              }}\n            >\n              <img\n                className='detailIcon'\n                src=\"https://img.icons8.com/material-rounded/24/000000/like--v1.png\" \n                alt='' \n              />\n              Likes\n            </Link>\n            <span>{totalLikeCount}</span>\n          </li>\n\n          <li>\n            <Link \n              to='/following'\n              onClick={() => {\n                setNavActive(navActive = false)\n              }}\n            >\n              <img \n                className='detailIcon'\n                src=\"https://img.icons8.com/metro/26/000000/add-user-male.png\"\n                alt=''\n              />\n              Following\n            </Link>\n            <span>{userFollowCount}</span>\n          </li>\n\n          <li>\n            <Link \n              to='/settings/account'\n              onClick={() => {\n                setNavActive(navActive = false)\n              }}\n            >\n              <img\n                className='detailIcon'\n                src=\"https://img.icons8.com/material-sharp/24/000000/settings.png\"\n                alt=''\n              />\n              Settings\n            </Link>\n          </li>\n\n          <li\n            className='separator'\n          >\n          </li>\n\n          <li\n            className='blogDescription'\n          > \n            <Link \n              to={`/view/blog/${blogName}`} \n              onClick={() => {\n                setNavActive(navActive = false)\n              }}\n            >\n              <ProfilePic \n                user={user}\n                standaloneLink={false}\n              />\n              <div>\n                <h3>{blogName}</h3>\n                <p>{blogDescription}</p>\n              </div>\n            </Link>\n          </li>\n\n          <li>\n            <Link\n              className='blogDetailData'\n              to={`/view/blog/${blogName}`}\n              onClick={() => {\n                setNavActive(navActive = false)\n              }}\n            >\n              <p>Posts</p>\n            </Link>\n              <span className='detailCount'>{userPostsCount}</span>\n          </li>\n\n          <li>\n            <Link\n              className='blogDetailData'\n              to='/followers'\n              onClick={() => {\n                setNavActive(navActive = false)\n              }}\n            >\n              <p>Followers</p>\n            </Link>\n              <span className='detailCount'>{followersCount}</span>\n          </li>\n\n          <li>\n            <Link\n              className='blogDetailData'\n              to='/activity'\n              onClick={() => {\n                setNavActive(navActive = false)\n              }}\n            >\n              <p>Activity</p>\n            </Link>\n          </li>\n          \n        </ul>\n      </div>\n    )\n  } else {\n    return (\n      <div>\n      </div>\n    )\n  }\n}\n\n// const handleByLine = (user) => {\n//   var words, descriptionArr = []\n\n//   if (user.blogDescription) {\n//     words = user.blogDescription.split(' ')\n    \n//     if (words.length > 8) {\n//       descriptionArr = words.slice(0, 8)\n\n//       return (\n//         <p>{descriptionArr.join(' ') + '...'}</p>\n//       )\n//     } else {\n//       descriptionArr = [...words]\n\n//       return (\n//         <p>{descriptionArr.join(' ')}</p>\n//       )\n//     }\n\n//   } else {\n//     return (\n//       <p></p>\n//     )\n//   }\n// }\n\nexport default UserDetails;"]},"metadata":{},"sourceType":"module"}