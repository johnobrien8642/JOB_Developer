{"ast":null,"code":"var _jsxFileName = \"/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/nav/Mobile_Menu_DD.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport Cookies from 'js-cookie';\nimport Logout from '../auth/Logout';\nimport Queries from '../../graphql/queries.js';\nimport PostFormUtil from '../posts/util/functions/post_form_util.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  FETCH_ACTIVITY_COUNTS\n} = Queries;\nconst {\n  allowScroll\n} = PostFormUtil;\n\nconst MobileMenuDD = ({\n  menuOpen,\n  openMenu,\n  settingsOpen,\n  openSettings,\n  userDetailsCounts,\n  scrollYRef2\n}) => {\n  _s();\n\n  let cursorId = useRef(new Date().getTime());\n  useEffect(() => {\n    if (!menuOpen || menuOpen) {\n      window.scrollTo(0, scrollYRef2.current);\n    } //eslint-disable-next-line\n\n\n    return () => {\n      refetch();\n    };\n  }, [menuOpen, settingsOpen, scrollYRef2]);\n  let {\n    data,\n    refetch\n  } = useQuery(FETCH_ACTIVITY_COUNTS, {\n    variables: {\n      query: Cookies.get('currentUser'),\n      cursorId: cursorId.current.toString()\n    },\n    pollInterval: 10000\n  });\n  const {\n    user\n  } = userDetailsCounts;\n\n  const renderActivityCount = () => {\n    if (data) {\n      if (data.fetchActivityCount) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"count\",\n          children: data.fetchActivityCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 16\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"count\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 16\n        }, this);\n      }\n    }\n  };\n\n  if (user) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: menuOpen && !settingsOpen ? 'mobileMenuDD open' : 'mobileMenuDD',\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard/create\",\n          className: \"mobileMenuItem createAPost\",\n          onClick: () => {\n            openMenu(menuOpen = false);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://img.icons8.com/metro/26/ffffff/edit.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Create a post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobileMenuItem\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"dashboard\",\n            to: \"/dashboard\",\n            onClick: () => {\n              openMenu(menuOpen = false);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://img.icons8.com/ios-glyphs/38/ffffff/home-page.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobileMenuItem\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"discover\",\n            to: \"/discover\",\n            onClick: () => {\n              openMenu(menuOpen = false);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://img.icons8.com/ios/34/ffffff/compass--v1.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Discover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobileMenuItem\",\n          onClick: () => {\n            cursorId.current = new Date().getTime();\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"activity\",\n            to: `/activity`,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://img.icons8.com/fluent-systems-filled/38/ffffff/lightning-bolt.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Activity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), renderActivityCount()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobileMenuItem\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"likes\",\n            to: \"/likes\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://img.icons8.com/material-sharp/24/ffffff/like--v1.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Likes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"count\",\n            children: user.totalLikeCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobileMenuItem\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"following\",\n            to: \"/following\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://img.icons8.com/metro/26/ffffff/gender-neutral-user.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Following\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"count\",\n            children: user.userFollowCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobileMenuItem\",\n          onClick: () => {\n            openSettings(settingsOpen = true);\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"settings\",\n            to: \"/settings/account\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://img.icons8.com/material-sharp/24/ffffff/settings.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobileMenuItem blogDetailHeader\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/view/blog/${user.blogName}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: user.blogName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.blogDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobileMenuItem blogDetailData\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/view/blog/${user.blogName}`,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Posts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"count\",\n            children: user.userPostsCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobileMenuItem blogDetailData\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/followers`,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Followers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"followerCount\",\n            children: user.followersCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Logout, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: menuOpen ? 'mobileMenuDDModal open' : 'mobileMenuDDModal',\n        onClick: () => {\n          allowScroll(document);\n          openMenu(menuOpen = false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(MobileMenuDD, \"Lku8IhRcFEdPDkgtoRuuyuZwPU8=\", false, function () {\n  return [useQuery];\n});\n\n_c = MobileMenuDD;\nexport default MobileMenuDD;\n\nvar _c;\n\n$RefreshReg$(_c, \"MobileMenuDD\");","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/nav/Mobile_Menu_DD.js"],"names":["React","useEffect","useRef","Link","useQuery","Cookies","Logout","Queries","PostFormUtil","FETCH_ACTIVITY_COUNTS","allowScroll","MobileMenuDD","menuOpen","openMenu","settingsOpen","openSettings","userDetailsCounts","scrollYRef2","cursorId","Date","getTime","window","scrollTo","current","refetch","data","variables","query","get","toString","pollInterval","user","renderActivityCount","fetchActivityCount","totalLikeCount","userFollowCount","blogName","blogDescription","userPostsCount","followersCount","document"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport Cookies from 'js-cookie';\n\nimport Logout from '../auth/Logout';\n\nimport Queries from '../../graphql/queries.js';\nimport PostFormUtil from '../posts/util/functions/post_form_util.js';\nconst { FETCH_ACTIVITY_COUNTS } = Queries;\nconst { allowScroll } = PostFormUtil;\n\nconst MobileMenuDD = ({\n  menuOpen,\n  openMenu,\n  settingsOpen,\n  openSettings,\n  userDetailsCounts,\n  scrollYRef2\n}) => {\n  let cursorId = useRef(new Date().getTime())\n\n  useEffect(() => {\n    if (!menuOpen || menuOpen) {\n      window.scrollTo(0, scrollYRef2.current)\n    }\n\n    //eslint-disable-next-line\n    return () => {\n      refetch()\n    }\n  }, [menuOpen, settingsOpen, scrollYRef2])\n\n  let { data, refetch } = useQuery(FETCH_ACTIVITY_COUNTS, {\n    variables: {\n      query: Cookies.get('currentUser'),\n      cursorId: cursorId.current.toString()\n    },\n    pollInterval: 10000\n  })\n\n  const { user } = userDetailsCounts;\n\n  const renderActivityCount = () => {\n    if (data) {\n      if (data.fetchActivityCount) {\n        return <span className='count'>{data.fetchActivityCount}</span>\n      } else {\n        return <span className='count'></span>\n      }\n    }\n  }\n\n  if (user) {\n    return (\n      <React.Fragment> \n        <div\n          className={menuOpen && !settingsOpen ? 'mobileMenuDD open' : 'mobileMenuDD'}\n        >\n          <Link\n            to='/dashboard/create'\n            className='mobileMenuItem createAPost'\n            onClick={() => {\n              openMenu(menuOpen = false)\n            }}\n          >\n            <div>\n            <img\n              src=\"https://img.icons8.com/metro/26/ffffff/edit.png\"\n              alt=''\n            />\n            <span>Create a post</span>\n            </div>\n          </Link>\n    \n  \n          <div\n            className='mobileMenuItem'\n          >\n            <Link\n              className='dashboard'\n              to='/dashboard'\n                onClick={() => {      \n                  openMenu(menuOpen = false)\n                }}\n            >\n              <img\n                src=\"https://img.icons8.com/ios-glyphs/38/ffffff/home-page.png\"\n                alt=''\n              />\n              <span>Dashboard</span>\n            </Link>\n          </div>\n  \n          <div\n            className='mobileMenuItem'\n          >\n            <Link\n              className='discover'\n              to='/discover'\n              onClick={() => {\n                openMenu(menuOpen = false)\n              }}\n            >\n              <img\n                src=\"https://img.icons8.com/ios/34/ffffff/compass--v1.png\"\n                alt=''\n              />\n              <span>Discover</span>\n            </Link>\n          </div>\n  \n          <div\n            className='mobileMenuItem'\n            onClick={() => {\n              cursorId.current = new Date().getTime()\n            }}\n          >\n            <Link\n              className='activity'\n              to={`/activity`}\n            >\n              <img\n                src=\"https://img.icons8.com/fluent-systems-filled/38/ffffff/lightning-bolt.png\"\n                alt=''\n              />\n              <span>Activity</span>\n            </Link>\n  \n            \n            {renderActivityCount()}\n          </div>\n  \n          <div\n            className='mobileMenuItem'\n          >\n            <Link\n              className='likes'\n              to='/likes'\n            >\n              <img \n                src=\"https://img.icons8.com/material-sharp/24/ffffff/like--v1.png\"\n                alt=''\n              />\n                <span>Likes</span>\n            </Link>\n            <span className='count'>{user.totalLikeCount}</span>\n          </div>\n  \n          <div\n            className='mobileMenuItem'\n          >\n            <Link \n              className='following'\n              to='/following'\n            >\n              <img\n                src=\"https://img.icons8.com/metro/26/ffffff/gender-neutral-user.png\"\n                alt=''\n              />\n                <span>Following</span>\n            </Link>\n            <span className='count'>{user.userFollowCount}</span>\n          </div>\n  \n          <div\n            className='mobileMenuItem'\n            onClick={() => {\n              openSettings(settingsOpen = true)\n            }}\n          >\n            <Link\n              className='settings'\n              to='/settings/account'\n            >\n              <img\n                src=\"https://img.icons8.com/material-sharp/24/ffffff/settings.png\"\n                alt=''\n              />\n              <span>Settings</span>\n            </Link>\n          </div>\n  \n          <div\n            className='mobileMenuItem blogDetailHeader'\n          >\n            <Link\n              to={`/view/blog/${user.blogName}`} \n            >\n              <h3>{user.blogName}</h3>\n              <p>{user.blogDescription}</p>\n            </Link>\n          </div>\n  \n          <div\n            className='mobileMenuItem blogDetailData'\n          >\n            <Link\n              to={`/view/blog/${user.blogName}`}\n            >\n              <p>Posts</p>\n            </Link>\n            <span className='count'>{user.userPostsCount}</span>\n          </div>\n  \n          <div\n            className='mobileMenuItem blogDetailData'\n          >\n            <Link\n              to={`/followers`}\n            >\n              <p>Followers</p>\n            </Link>\n            <span className='followerCount'>{user.followersCount}</span>\n          </div>\n          <Logout />\n        </div>\n        <div\n          className={menuOpen ? 'mobileMenuDDModal open' : 'mobileMenuDDModal'}\n          onClick={() => {\n            allowScroll(document)\n            openMenu(menuOpen = false)\n          }}\n        />\n      </React.Fragment>\n    )\n  } else {\n    return (\n      <div>\n      </div>\n    )\n\n  }\n}\n\nexport default MobileMenuDD;"]},"metadata":{},"sourceType":"module"}