{"ast":null,"code":"import _slicedToArray from\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Validator from'validator';import LinkNameAndImage from'../forms/Link_Name_And_Image';import LinkTitleAndDesc from'../forms/Link_Title_And_Desc';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LinkPreview=function LinkPreview(_ref){var displayBodyImageAndTextInput=_ref.displayBodyImageAndTextInput,setDisplayBodyImageAndTextInput=_ref.setDisplayBodyImageAndTextInput,post=_ref.post,link=_ref.link,setLink=_ref.setLink,result=_ref.result,siteName=_ref.siteName,setSiteName=_ref.setSiteName,imageUrl=_ref.imageUrl,setImageUrl=_ref.setImageUrl,setTitle=_ref.setTitle,title=_ref.title,linkDescription=_ref.linkDescription,setLinkDescription=_ref.setLinkDescription,resetLink=_ref.resetLink;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showNameAndUrl=_useState4[0],setShowNameAndUrl=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showTitleAndLinkDescription=_useState6[0],setShowTitleAndLinkDescription=_useState6[1];useEffect(function(){if(post){var linkObj=post.linkObj;//eslint-disable-next-line\nsetLink(link=linkObj.link);//eslint-disable-next-line\nsetSiteName(siteName=linkObj.siteName);//eslint-disable-next-line\nsetImageUrl(imageUrl=linkObj.imageUrl);//eslint-disable-next-line\nsetTitle(title=linkObj.title);//eslint-disable-next-line\nsetLinkDescription(linkDescription=linkObj.linkDescription);//eslint-disable-next-line\nsetDisplayBodyImageAndTextInput(displayBodyImageAndTextInput=true);}//eslint-disable-next-line\n},[]);useEffect(function(){var resetInput=function resetInput(){//eslint-disable-next-line\nsetShowNameAndUrl(showNameAndUrl=true);//eslint-disable-next-line\nsetShowTitleAndLinkDescription(showTitleAndLinkDescription=true);//eslint-disable-next-line\nsetInput(input='');};if(!showNameAndUrl&&!showTitleAndLinkDescription){//eslint-disable-next-line\nresetLink();//eslint-disable-next-line\nresetInput();}},[showNameAndUrl,showTitleAndLinkDescription,resetLink]);useEffect(function(){if(result){//eslint-disable-next-line\nsetDisplayBodyImageAndTextInput(displayBodyImageAndTextInput=true);}},[result]);if(result){return/*#__PURE__*/_jsxs(\"div\",{className:\"linkPreviewContainer\",children:[/*#__PURE__*/_jsx(LinkNameAndImage,{link:link,showNameAndUrl:showNameAndUrl,setShowNameAndUrl:setShowNameAndUrl,siteName:siteName,setSiteName:setSiteName,imageUrl:imageUrl,setImageUrl:setImageUrl}),/*#__PURE__*/_jsx(LinkTitleAndDesc,{link:link,showTitleAndLinkDescription:showTitleAndLinkDescription,setShowTitleAndLinkDescription:setShowTitleAndLinkDescription,title:title,setTitle:setTitle,linkDescription:linkDescription,setLinkDescription:setLinkDescription})]});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"urlInputContainer\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"urlInput\",value:input,placeholder:\"Type or paste a URL\",onChange:function onChange(e){setInput(input=e.target.value);if(Validator.isURL(input)){setLink(link=input);}}})});}};export default LinkPreview;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/posts/util/components/forms/Link_Preview.js"],"names":["React","useEffect","useState","Validator","LinkNameAndImage","LinkTitleAndDesc","LinkPreview","displayBodyImageAndTextInput","setDisplayBodyImageAndTextInput","post","link","setLink","result","siteName","setSiteName","imageUrl","setImageUrl","setTitle","title","linkDescription","setLinkDescription","resetLink","input","setInput","showNameAndUrl","setShowNameAndUrl","showTitleAndLinkDescription","setShowTitleAndLinkDescription","linkObj","resetInput","e","target","value","isURL"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Validator from 'validator';\n\nimport LinkNameAndImage from '../forms/Link_Name_And_Image'\nimport LinkTitleAndDesc from '../forms/Link_Title_And_Desc'\n\nconst LinkPreview = ({\n  displayBodyImageAndTextInput,\n  setDisplayBodyImageAndTextInput,\n  post, \n  link, \n  setLink, \n  result,\n  siteName, \n  setSiteName,\n  imageUrl, \n  setImageUrl, \n  setTitle,\n  title, \n  linkDescription,\n  setLinkDescription, \n  resetLink\n}) => {\n  let [input, setInput] = useState('');\n  let [showNameAndUrl, setShowNameAndUrl] = useState(true)\n  let [showTitleAndLinkDescription, \n        setShowTitleAndLinkDescription] = useState(true)\n\n  useEffect(() => {\n    \n    if (post) {\n      const { linkObj } = post;\n      //eslint-disable-next-line\n      setLink(link = linkObj.link)\n      //eslint-disable-next-line\n      setSiteName(siteName = linkObj.siteName)\n      //eslint-disable-next-line\n      setImageUrl(imageUrl = linkObj.imageUrl)\n      //eslint-disable-next-line\n      setTitle(title = linkObj.title)\n      //eslint-disable-next-line\n      setLinkDescription(linkDescription = linkObj.linkDescription)\n      //eslint-disable-next-line\n      setDisplayBodyImageAndTextInput(displayBodyImageAndTextInput = true)\n    }\n\n    //eslint-disable-next-line\n  }, [])\n  \n  \n  useEffect(() => {\n\n    const resetInput = () => {\n      //eslint-disable-next-line\n      setShowNameAndUrl(showNameAndUrl = true)\n      //eslint-disable-next-line\n      setShowTitleAndLinkDescription(showTitleAndLinkDescription = true)\n      //eslint-disable-next-line\n      setInput(input = '')\n    }\n\n    if (!showNameAndUrl && !showTitleAndLinkDescription) {\n      //eslint-disable-next-line\n      resetLink()\n      //eslint-disable-next-line\n      resetInput()\n    }\n  }, [showNameAndUrl, showTitleAndLinkDescription, resetLink])\n\n  useEffect(() => {\n    if (result) {\n      //eslint-disable-next-line\n      setDisplayBodyImageAndTextInput(displayBodyImageAndTextInput = true)\n    }\n  }, [result])\n\n \n\n  if (result) {\n    return (\n      <div\n        className='linkPreviewContainer'\n      >\n        <LinkNameAndImage\n          link={link}\n          showNameAndUrl={showNameAndUrl}\n          setShowNameAndUrl={setShowNameAndUrl}\n          siteName={siteName}\n          setSiteName={setSiteName}\n          imageUrl={imageUrl}\n          setImageUrl={setImageUrl}\n        />\n  \n        <LinkTitleAndDesc\n          link={link}\n          showTitleAndLinkDescription={showTitleAndLinkDescription}\n          setShowTitleAndLinkDescription={setShowTitleAndLinkDescription}\n          title={title}\n          setTitle={setTitle}\n          linkDescription={linkDescription}\n          setLinkDescription={setLinkDescription}\n        />\n      </div>\n    )\n  } else {\n    return(\n      <div\n        className='urlInputContainer'\n      >\n        <textarea\n            className='urlInput'\n            value={input}\n            placeholder='Type or paste a URL'\n            onChange={e => {\n                setInput(input = e.target.value)\n                if (Validator.isURL(input)) {\n                  setLink(link = input)\n                }\n              }\n            }\n        ></textarea>\n      </div>\n    )\n  }\n}\n\nexport default LinkPreview;"]},"metadata":{},"sourceType":"module"}