{"ast":null,"code":"var _jsxFileName = \"/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/posts/util/components/forms/inputTypes/Photo_Post_Or_Register_Photo_Input.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport MainImageDnD from '../dragAndDrop/Main_Image_DnD';\nimport MainImageOrRegisterPhotoInput from './Main_Image_Or_Register_Photo_Input';\nimport PostFormUtil from '../../../functions/post_form_util.js';\nimport PostUpdateUtil from '../../../functions/post_update_util.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  reassemblePhotoPostMain\n} = PostUpdateUtil;\nconst {\n  removeProfilePic\n} = PostFormUtil;\n\nconst PhotoPostOrRegisterInput = ({\n  edit,\n  register,\n  previewProfilePicRef,\n  profileImageFile,\n  setProfileImageFile,\n  post,\n  formId,\n  main,\n  mainImageFiles,\n  setMainImageFiles,\n  render,\n  setRender,\n  objsToClean,\n  errMessage,\n  setErrMessage\n}) => {\n  _s();\n\n  useEffect(() => {\n    if (post) {\n      reassemblePhotoPostMain(main, post.mainImages);\n      setRender(render + 1);\n    } //eslint-disable-next-line\n\n  }, []);\n\n  const renderRemoveBtn = (previewProfilePicRef, profileImageFile, setProfileImageFile, edit, render, setRender) => {\n    if (Object.keys(previewProfilePicRef.current).length > 0) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"removeProPicBtn\",\n        type: \"button\",\n        onClick: () => {\n          removeProfilePic(previewProfilePicRef, profileImageFile, setProfileImageFile, edit, render, setRender);\n        },\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const renderPhotoInput = (register, previewProfilePicRef, profileImageFile, setProfileImageFile) => {\n    if (Object.keys(previewProfilePicRef.current).length === 0) {\n      return /*#__PURE__*/_jsxDEV(MainImageOrRegisterPhotoInput, {\n        register: register,\n        previewProfilePicRef: previewProfilePicRef,\n        profileImageFile: profileImageFile,\n        setProfileImageFile: setProfileImageFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  if (register) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profilePicPreview\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"previewImg\",\n        children: [renderRemoveBtn(previewProfilePicRef, profileImageFile, setProfileImageFile, edit, render, setRender), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: previewProfilePicRef.current.src,\n          alt: previewProfilePicRef.current.alt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), renderPhotoInput(register, previewProfilePicRef, profileImageFile, setProfileImageFile)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainPreview\",\n      children: [main.current.map((obj, i) => {\n        return /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: /*#__PURE__*/_jsxDEV(MainImageDnD, {\n            mainIdx: i,\n            img: obj,\n            main: main,\n            mainImageFiles: mainImageFiles,\n            setMainImageFiles: setMainImageFiles,\n            objsToClean: objsToClean,\n            render: render,\n            setRender: setRender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(MainImageOrRegisterPhotoInput, {\n        formId: formId,\n        main: main,\n        mainImageFiles: mainImageFiles,\n        setMainImageFiles: setMainImageFiles,\n        render: render,\n        setRender: setRender,\n        errMessage: errMessage,\n        setErrMessage: setErrMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(PhotoPostOrRegisterInput, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = PhotoPostOrRegisterInput;\nexport default PhotoPostOrRegisterInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"PhotoPostOrRegisterInput\");","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/posts/util/components/forms/inputTypes/Photo_Post_Or_Register_Photo_Input.js"],"names":["React","useEffect","MainImageDnD","MainImageOrRegisterPhotoInput","PostFormUtil","PostUpdateUtil","reassemblePhotoPostMain","removeProfilePic","PhotoPostOrRegisterInput","edit","register","previewProfilePicRef","profileImageFile","setProfileImageFile","post","formId","main","mainImageFiles","setMainImageFiles","render","setRender","objsToClean","errMessage","setErrMessage","mainImages","renderRemoveBtn","Object","keys","current","length","renderPhotoInput","src","alt","map","obj","i"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\n\nimport MainImageDnD from '../dragAndDrop/Main_Image_DnD';\nimport MainImageOrRegisterPhotoInput from './Main_Image_Or_Register_Photo_Input';\n\nimport PostFormUtil from '../../../functions/post_form_util.js';\nimport PostUpdateUtil from '../../../functions/post_update_util.js';\nconst { reassemblePhotoPostMain } = PostUpdateUtil;\nconst { removeProfilePic } = PostFormUtil;\n\nconst PhotoPostOrRegisterInput = ({\n  edit,\n  register,\n  previewProfilePicRef,\n  profileImageFile,\n  setProfileImageFile,\n  post,\n  formId, \n  main,\n  mainImageFiles,\n  setMainImageFiles,\n  render, \n  setRender,\n  objsToClean,\n  errMessage,\n  setErrMessage\n}) => {\n\n  useEffect(() => {\n    if (post) {\n      reassemblePhotoPostMain(main, post.mainImages)\n      setRender(render + 1)\n    }\n    //eslint-disable-next-line\n  }, [])\n\n  const renderRemoveBtn = (\n    previewProfilePicRef,\n    profileImageFile, \n    setProfileImageFile,\n    edit,\n    render,\n    setRender\n  ) => {\n    if (Object.keys(previewProfilePicRef.current).length > 0) {\n      return (\n        <button\n          className='removeProPicBtn'\n          type='button'\n          onClick={() => {\n            removeProfilePic(\n              previewProfilePicRef,\n              profileImageFile,\n              setProfileImageFile,\n              edit, render,\n              setRender\n            )\n          }}\n        >\n          X\n        </button>\n      )\n    }\n  }\n\n  const renderPhotoInput = (\n    register,\n    previewProfilePicRef,\n    profileImageFile,\n    setProfileImageFile\n  ) => {\n    if (Object.keys(previewProfilePicRef.current).length === 0) {\n      return (\n        <MainImageOrRegisterPhotoInput\n          register={register}\n          previewProfilePicRef={previewProfilePicRef}\n          profileImageFile={profileImageFile}\n          setProfileImageFile={setProfileImageFile}\n        />\n      )\n    }\n  }\n \n  if (register) {\n    return (\n      <div\n        className='profilePicPreview'\n      >\n        <div\n          className='previewImg'\n        >\n          {renderRemoveBtn(\n            previewProfilePicRef,\n            profileImageFile,\n            setProfileImageFile,\n            edit, render,\n            setRender\n          )}\n          <img \n            src={previewProfilePicRef.current.src}\n            alt={previewProfilePicRef.current.alt}\n          />\n        </div>\n\n        {renderPhotoInput(\n          register,\n          previewProfilePicRef,\n          profileImageFile,\n          setProfileImageFile\n        )}\n      </div>\n    )\n  } else {\n    return (\n      <div\n        className='mainPreview'\n      >\n        {main.current.map((obj, i) => {\n        return (\n          <React.Fragment\n            key={i}\n          >\n            <MainImageDnD \n              mainIdx={i}\n              img={obj}\n              main={main}\n              mainImageFiles={mainImageFiles}\n              setMainImageFiles={setMainImageFiles}\n              objsToClean={objsToClean}\n              render={render}\n              setRender={setRender}\n            />\n          </React.Fragment>\n          )\n        })}\n  \n        <MainImageOrRegisterPhotoInput\n          formId={formId}\n          main={main}\n          mainImageFiles={mainImageFiles}\n          setMainImageFiles={setMainImageFiles}\n          render={render}\n          setRender={setRender}\n          errMessage={errMessage}\n          setErrMessage={setErrMessage}\n        />\n      </div>\n    )\n  }\n}\n\nexport default PhotoPostOrRegisterInput;"]},"metadata":{},"sourceType":"module"}