{"ast":null,"code":"import _slicedToArray from\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import{Link}from'react-router-dom';import Search from'../search/Search';import MobileMenuDD from'./Mobile_Menu_DD';import MobileSearchOrLogo from'./Mobile_Search_Or_Logo';import RenderSearchOrExitIcon from'./Render_Search_Or_Exit_Icon';import HamburgerOrExitIcon from'./Hamburger_Or_Exit_Icon';import PostFormUtil from'../posts/util/functions/post_form_util.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var preventScroll=PostFormUtil.preventScroll,allowScroll=PostFormUtil.allowScroll;var MobileNav=function MobileNav(_ref){var activityCounts=_ref.activityCounts,userDetailsCounts=_ref.userDetailsCounts,loggedInBool=_ref.loggedInBool,cursorId=_ref.cursorId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),menuOpen=_useState2[0],openMenu=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),settingsOpen=_useState4[0],openSettings=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),searchOpen=_useState6[0],openSearch=_useState6[1];var scrollYRef=useRef(null);var scrollYRef2=useRef(null);useEffect(function(){if(menuOpen){preventScroll(menuOpen,document);var el=document.querySelector('.mobileNav');if(el){el.focus();}}var listener=window.addEventListener('scroll',function(){scrollYRef.current=window.scrollY;});return function(){window.removeEventListener('scroll',listener);allowScroll(document);};},[menuOpen]);if(loggedInBool.isLoggedIn){return/*#__PURE__*/_jsxs(\"div\",{className:\"mobileNav loggedIn\",tabIndex:-1,onBlur:function onBlur(){allowScroll(document);openMenu(menuOpen=false);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"hamburgerOrExit\",children:/*#__PURE__*/_jsx(HamburgerOrExitIcon,{menuOpen:menuOpen,openMenu:openMenu,settingsOpen:settingsOpen,openSettings:openSettings,scrollYRef:scrollYRef,scrollYRef2:scrollYRef2})}),/*#__PURE__*/_jsx(MobileMenuDD,{activityCounts:activityCounts,userDetailsCounts:userDetailsCounts,loggedInBool:loggedInBool,menuOpen:menuOpen,openMenu:openMenu,settingsOpen:settingsOpen,openSettings:openSettings,cursorId:cursorId,scrollYRef:scrollYRef,scrollYRef2:scrollYRef2}),/*#__PURE__*/_jsx(MobileSearchOrLogo,{searchOpen:searchOpen,openSearch:openSearch}),/*#__PURE__*/_jsx(\"div\",{className:\"searchOrExitIcon\",children:/*#__PURE__*/_jsx(RenderSearchOrExitIcon,{searchOpen:searchOpen,openSearch:openSearch})})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"browserNav loggedOut\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchAndLogo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/fluent-systems-filled/48/ffffff/r.png\",alt:\"\"})}),/*#__PURE__*/_jsx(Search,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth\",children:[/*#__PURE__*/_jsx(Link,{className:\"login\",to:\"/login\",children:\"Log in\"}),/*#__PURE__*/_jsx(Link,{className:\"register\",to:\"/register\",onClick:function onClick(e){e.stopPropagation();},children:\"Sign up\"})]})]});}};export default MobileNav;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/nav/Mobile_Nav.js"],"names":["React","useState","useRef","useEffect","Link","Search","MobileMenuDD","MobileSearchOrLogo","RenderSearchOrExitIcon","HamburgerOrExitIcon","PostFormUtil","preventScroll","allowScroll","MobileNav","activityCounts","userDetailsCounts","loggedInBool","cursorId","menuOpen","openMenu","settingsOpen","openSettings","searchOpen","openSearch","scrollYRef","scrollYRef2","document","el","querySelector","focus","listener","window","addEventListener","current","scrollY","removeEventListener","isLoggedIn","e","stopPropagation"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Search from '../search/Search';\nimport MobileMenuDD from './Mobile_Menu_DD';\nimport MobileSearchOrLogo from './Mobile_Search_Or_Logo';\nimport RenderSearchOrExitIcon from './Render_Search_Or_Exit_Icon';\nimport HamburgerOrExitIcon from './Hamburger_Or_Exit_Icon';\n\nimport PostFormUtil from '../posts/util/functions/post_form_util.js';\nconst { preventScroll, allowScroll } = PostFormUtil;\n\nconst MobileNav = ({\n  activityCounts, \n  userDetailsCounts,\n  loggedInBool,\n  cursorId\n}) => {\n  let [menuOpen, openMenu] = useState(false)\n  let [settingsOpen, openSettings] = useState(false)\n  let [searchOpen, openSearch] = useState(false)\n  let scrollYRef = useRef(null)\n  let scrollYRef2 = useRef(null)\n\n  useEffect(() => {\n    if (menuOpen) {\n  \n      preventScroll(menuOpen, document)\n\n      var el = document.querySelector('.mobileNav')\n      \n      if (el) {\n        el.focus()\n      }\n    }\n\n    var listener = window.addEventListener('scroll', () => {\n      scrollYRef.current = window.scrollY\n    })\n\n    return () => {\n      window.removeEventListener('scroll', listener)\n      allowScroll(document)\n    }\n  }, [menuOpen])\n\n  \n  \n  if (loggedInBool.isLoggedIn) {\n    return (\n      <div\n        className='mobileNav loggedIn'\n        tabIndex={-1}\n        onBlur={() => {\n          allowScroll(document)\n          openMenu(menuOpen = false)\n        }}\n      >\n        <div\n          className='hamburgerOrExit'\n        >\n          <HamburgerOrExitIcon\n            menuOpen={menuOpen}\n            openMenu={openMenu}\n            settingsOpen={settingsOpen}\n            openSettings={openSettings}\n            scrollYRef={scrollYRef}\n            scrollYRef2={scrollYRef2}\n          />\n        </div>\n\n        <MobileMenuDD\n          activityCounts={activityCounts}\n          userDetailsCounts={userDetailsCounts}\n          loggedInBool={loggedInBool}\n          menuOpen={menuOpen}\n          openMenu={openMenu}\n          settingsOpen={settingsOpen}\n          openSettings={openSettings}\n          cursorId={cursorId}\n          scrollYRef={scrollYRef}\n          scrollYRef2={scrollYRef2}\n        />\n\n        <MobileSearchOrLogo \n          searchOpen={searchOpen}\n          openSearch={openSearch}\n        />\n\n        <div\n          className='searchOrExitIcon'\n        >\n          <RenderSearchOrExitIcon\n            searchOpen={searchOpen}\n            openSearch={openSearch}\n          />\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div\n        className='browserNav loggedOut'\n      >\n        <div\n          className='searchAndLogo'\n        >\n          <div\n            className='logo'\n          >\n            <img\n              src=\"https://img.icons8.com/fluent-systems-filled/48/ffffff/r.png\"\n              alt=''  \n            />\n          </div>\n          <Search />\n        </div>\n\n        <div\n          className='auth'\n        >\n          <Link\n            className='login'\n            to='/login'\n          >\n            Log in\n          </Link>\n              \n          <Link\n            className='register'\n            to='/register'\n            onClick={e => {\n              e.stopPropagation()\n            }}\n          >\n            Sign up\n          </Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MobileNav;"]},"metadata":{},"sourceType":"module"}