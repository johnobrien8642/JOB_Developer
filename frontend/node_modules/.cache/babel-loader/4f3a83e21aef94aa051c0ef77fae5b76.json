{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ID3v24TagMapper = void 0;\n\nvar GenericTagMapper_1 = require(\"../common/GenericTagMapper\");\n\nvar Util_1 = require(\"../common/Util\");\n\nvar CaseInsensitiveTagMap_1 = require(\"../common/CaseInsensitiveTagMap\");\n/**\r\n * ID3v2.3/ID3v2.4 tag mappings\r\n */\n\n\nvar id3v24TagMap = {\n  // id3v2.3\n  TIT2: 'title',\n  TPE1: 'artist',\n  'TXXX:Artists': 'artists',\n  TPE2: 'albumartist',\n  TALB: 'album',\n  TDRV: 'date',\n\n  /**\r\n   * Original release year\r\n   */\n  TORY: 'originalyear',\n  TPOS: 'disk',\n  TCON: 'genre',\n  APIC: 'picture',\n  TCOM: 'composer',\n  'USLT:description': 'lyrics',\n  TSOA: 'albumsort',\n  TSOT: 'titlesort',\n  TOAL: 'originalalbum',\n  TSOP: 'artistsort',\n  TSO2: 'albumartistsort',\n  TSOC: 'composersort',\n  TEXT: 'lyricist',\n  'TXXX:Writer': 'writer',\n  TPE3: 'conductor',\n  // 'IPLS:instrument': 'performer:instrument', // ToDo\n  TPE4: 'remixer',\n  'IPLS:arranger': 'arranger',\n  'IPLS:engineer': 'engineer',\n  'IPLS:producer': 'producer',\n  'IPLS:DJ-mix': 'djmixer',\n  'IPLS:mix': 'mixer',\n  TPUB: 'label',\n  TIT1: 'grouping',\n  TIT3: 'subtitle',\n  TRCK: 'track',\n  TCMP: 'compilation',\n  POPM: 'rating',\n  TBPM: 'bpm',\n  TMED: 'media',\n  'TXXX:CATALOGNUMBER': 'catalognumber',\n  'TXXX:MusicBrainz Album Status': 'releasestatus',\n  'TXXX:MusicBrainz Album Type': 'releasetype',\n\n  /**\r\n   * Release country as documented: https://picard.musicbrainz.org/docs/mappings/#cite_note-0\r\n   */\n  'TXXX:MusicBrainz Album Release Country': 'releasecountry',\n\n  /**\r\n   * Release country as implemented // ToDo: report\r\n   */\n  'TXXX:RELEASECOUNTRY': 'releasecountry',\n  'TXXX:SCRIPT': 'script',\n  TLAN: 'language',\n  TCOP: 'copyright',\n  WCOP: 'license',\n  TENC: 'encodedby',\n  TSSE: 'encodersettings',\n  'TXXX:BARCODE': 'barcode',\n  'TXXX:ISRC': 'isrc',\n  TSRC: 'isrc',\n  'TXXX:ASIN': 'asin',\n  'TXXX:originalyear': 'originalyear',\n  'UFID:http://musicbrainz.org': 'musicbrainz_recordingid',\n  'TXXX:MusicBrainz Release Track Id': 'musicbrainz_trackid',\n  'TXXX:MusicBrainz Album Id': 'musicbrainz_albumid',\n  'TXXX:MusicBrainz Artist Id': 'musicbrainz_artistid',\n  'TXXX:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\n  'TXXX:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\n  'TXXX:MusicBrainz Work Id': 'musicbrainz_workid',\n  'TXXX:MusicBrainz TRM Id': 'musicbrainz_trmid',\n  'TXXX:MusicBrainz Disc Id': 'musicbrainz_discid',\n  'TXXX:ACOUSTID_ID': 'acoustid_id',\n  'TXXX:Acoustid Id': 'acoustid_id',\n  'TXXX:Acoustid Fingerprint': 'acoustid_fingerprint',\n  'TXXX:MusicIP PUID': 'musicip_puid',\n  'TXXX:MusicMagic Fingerprint': 'musicip_fingerprint',\n  WOAR: 'website',\n  // id3v2.4\n  // ToDo: In same sequence as defined at http://id3.org/id3v2.4.0-frames\n  TDRC: 'date',\n  TYER: 'year',\n  TDOR: 'originaldate',\n  // 'TMCL:instrument': 'performer:instrument',\n  'TIPL:arranger': 'arranger',\n  'TIPL:engineer': 'engineer',\n  'TIPL:producer': 'producer',\n  'TIPL:DJ-mix': 'djmixer',\n  'TIPL:mix': 'mixer',\n  TMOO: 'mood',\n  // additional mappings:\n  SYLT: 'lyrics',\n  TSST: 'discsubtitle',\n  TKEY: 'key',\n  COMM: 'comment',\n  TOPE: 'originalartist',\n  // Windows Media Player\n  'PRIV:AverageLevel': 'averageLevel',\n  'PRIV:PeakLevel': 'peakLevel',\n  // Discogs\n  'TXXX:DISCOGS_ARTIST_ID': 'discogs_artist_id',\n  'TXXX:DISCOGS_ARTISTS': 'artists',\n  'TXXX:DISCOGS_ARTIST_NAME': 'artists',\n  'TXXX:DISCOGS_ALBUM_ARTISTS': 'albumartist',\n  'TXXX:DISCOGS_CATALOG': 'catalognumber',\n  'TXXX:DISCOGS_COUNTRY': 'releasecountry',\n  'TXXX:DISCOGS_DATE': 'originaldate',\n  'TXXX:DISCOGS_LABEL': 'label',\n  'TXXX:DISCOGS_LABEL_ID': 'discogs_label_id',\n  'TXXX:DISCOGS_MASTER_RELEASE_ID': 'discogs_master_release_id',\n  'TXXX:DISCOGS_RATING': 'discogs_rating',\n  'TXXX:DISCOGS_RELEASED': 'date',\n  'TXXX:DISCOGS_RELEASE_ID': 'discogs_release_id',\n  'TXXX:DISCOGS_VOTES': 'discogs_votes',\n  'TXXX:CATALOGID': 'catalognumber',\n  'TXXX:STYLE': 'genre',\n  'TXXX:REPLAYGAIN_TRACK_PEAK': 'replaygain_track_peak',\n  'TXXX:REPLAYGAIN_TRACK_GAIN': 'replaygain_track_gain',\n  'TXXX:REPLAYGAIN_ALBUM_PEAK': 'replaygain_album_peak',\n  'TXXX:REPLAYGAIN_ALBUM_GAIN': 'replaygain_album_gain',\n  'TXXX:MP3GAIN_MINMAX': 'replaygain_track_minmax',\n  'TXXX:MP3GAIN_ALBUM_MINMAX': 'replaygain_album_minmax',\n  'TXXX:MP3GAIN_UNDO': 'replaygain_undo',\n  MVNM: 'movement',\n  MVIN: 'movementIndex',\n  PCST: 'podcast',\n  TCAT: 'category',\n  TDES: 'description',\n  TDRL: 'date',\n  TGID: 'podcastId',\n  TKWD: 'keywords',\n  WFED: 'podcasturl'\n};\n\nvar ID3v24TagMapper = /*#__PURE__*/function (_CaseInsensitiveTagMa) {\n  _inherits(ID3v24TagMapper, _CaseInsensitiveTagMa);\n\n  var _super = _createSuper(ID3v24TagMapper);\n\n  function ID3v24TagMapper() {\n    _classCallCheck(this, ID3v24TagMapper);\n\n    return _super.call(this, ['ID3v2.3', 'ID3v2.4'], id3v24TagMap);\n  }\n  /**\r\n   * Handle post mapping exceptions / correction\r\n   * @param {string} tag to post map\r\n   * @param warnings USed to register warnings\r\n   * @return Common value e.g. \"Buena Vista Social Club\"\r\n   */\n\n\n  _createClass(ID3v24TagMapper, [{\n    key: \"postMap\",\n    value: function postMap(tag, warnings) {\n      switch (tag.id) {\n        case 'UFID':\n          // decode MusicBrainz Recording Id\n          if (tag.value.owner_identifier === 'http://musicbrainz.org') {\n            tag.id += ':' + tag.value.owner_identifier;\n            tag.value = Util_1.default.decodeString(tag.value.identifier, 'iso-8859-1');\n          }\n\n          break;\n\n        case 'PRIV':\n          switch (tag.value.owner_identifier) {\n            // decode Windows Media Player\n            case 'AverageLevel':\n            case 'PeakValue':\n              tag.id += ':' + tag.value.owner_identifier;\n              tag.value = tag.value.data.length === 4 ? tag.value.data.readUInt32LE(0) : null;\n\n              if (tag.value === null) {\n                warnings.addWarning(\"Failed to parse PRIV:PeakValue\");\n              }\n\n              break;\n\n            default:\n              warnings.addWarning(\"Unknown PRIV owner-identifier: \".concat(tag.value.owner_identifier));\n          }\n\n          break;\n\n        case 'COMM':\n          tag.value = tag.value ? tag.value.text : null;\n          break;\n\n        case 'POPM':\n          tag.value = ID3v24TagMapper.toRating(tag.value);\n          break;\n\n        default:\n          break;\n      }\n    }\n  }], [{\n    key: \"toRating\",\n    value: function toRating(popm) {\n      return {\n        source: popm.email,\n        rating: popm.rating > 0 ? (popm.rating - 1) / 254 * GenericTagMapper_1.CommonTagMapper.maxRatingScore : undefined\n      };\n    }\n  }]);\n\n  return ID3v24TagMapper;\n}(CaseInsensitiveTagMap_1.CaseInsensitiveTagMap);\n\nexports.ID3v24TagMapper = ID3v24TagMapper;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/music-metadata/lib/id3v2/ID3v24TagMapper.js"],"names":["Object","defineProperty","exports","value","ID3v24TagMapper","GenericTagMapper_1","require","Util_1","CaseInsensitiveTagMap_1","id3v24TagMap","TIT2","TPE1","TPE2","TALB","TDRV","TORY","TPOS","TCON","APIC","TCOM","TSOA","TSOT","TOAL","TSOP","TSO2","TSOC","TEXT","TPE3","TPE4","TPUB","TIT1","TIT3","TRCK","TCMP","POPM","TBPM","TMED","TLAN","TCOP","WCOP","TENC","TSSE","TSRC","WOAR","TDRC","TYER","TDOR","TMOO","SYLT","TSST","TKEY","COMM","TOPE","MVNM","MVIN","PCST","TCAT","TDES","TDRL","TGID","TKWD","WFED","tag","warnings","id","owner_identifier","default","decodeString","identifier","data","length","readUInt32LE","addWarning","text","toRating","popm","source","email","rating","CommonTagMapper","maxRatingScore","undefined","CaseInsensitiveTagMap"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ID3v24TagMapper = void 0;\r\nconst GenericTagMapper_1 = require(\"../common/GenericTagMapper\");\r\nconst Util_1 = require(\"../common/Util\");\r\nconst CaseInsensitiveTagMap_1 = require(\"../common/CaseInsensitiveTagMap\");\r\n/**\r\n * ID3v2.3/ID3v2.4 tag mappings\r\n */\r\nconst id3v24TagMap = {\r\n    // id3v2.3\r\n    TIT2: 'title',\r\n    TPE1: 'artist',\r\n    'TXXX:Artists': 'artists',\r\n    TPE2: 'albumartist',\r\n    TALB: 'album',\r\n    TDRV: 'date',\r\n    /**\r\n     * Original release year\r\n     */\r\n    TORY: 'originalyear',\r\n    TPOS: 'disk',\r\n    TCON: 'genre',\r\n    APIC: 'picture',\r\n    TCOM: 'composer',\r\n    'USLT:description': 'lyrics',\r\n    TSOA: 'albumsort',\r\n    TSOT: 'titlesort',\r\n    TOAL: 'originalalbum',\r\n    TSOP: 'artistsort',\r\n    TSO2: 'albumartistsort',\r\n    TSOC: 'composersort',\r\n    TEXT: 'lyricist',\r\n    'TXXX:Writer': 'writer',\r\n    TPE3: 'conductor',\r\n    // 'IPLS:instrument': 'performer:instrument', // ToDo\r\n    TPE4: 'remixer',\r\n    'IPLS:arranger': 'arranger',\r\n    'IPLS:engineer': 'engineer',\r\n    'IPLS:producer': 'producer',\r\n    'IPLS:DJ-mix': 'djmixer',\r\n    'IPLS:mix': 'mixer',\r\n    TPUB: 'label',\r\n    TIT1: 'grouping',\r\n    TIT3: 'subtitle',\r\n    TRCK: 'track',\r\n    TCMP: 'compilation',\r\n    POPM: 'rating',\r\n    TBPM: 'bpm',\r\n    TMED: 'media',\r\n    'TXXX:CATALOGNUMBER': 'catalognumber',\r\n    'TXXX:MusicBrainz Album Status': 'releasestatus',\r\n    'TXXX:MusicBrainz Album Type': 'releasetype',\r\n    /**\r\n     * Release country as documented: https://picard.musicbrainz.org/docs/mappings/#cite_note-0\r\n     */\r\n    'TXXX:MusicBrainz Album Release Country': 'releasecountry',\r\n    /**\r\n     * Release country as implemented // ToDo: report\r\n     */\r\n    'TXXX:RELEASECOUNTRY': 'releasecountry',\r\n    'TXXX:SCRIPT': 'script',\r\n    TLAN: 'language',\r\n    TCOP: 'copyright',\r\n    WCOP: 'license',\r\n    TENC: 'encodedby',\r\n    TSSE: 'encodersettings',\r\n    'TXXX:BARCODE': 'barcode',\r\n    'TXXX:ISRC': 'isrc',\r\n    TSRC: 'isrc',\r\n    'TXXX:ASIN': 'asin',\r\n    'TXXX:originalyear': 'originalyear',\r\n    'UFID:http://musicbrainz.org': 'musicbrainz_recordingid',\r\n    'TXXX:MusicBrainz Release Track Id': 'musicbrainz_trackid',\r\n    'TXXX:MusicBrainz Album Id': 'musicbrainz_albumid',\r\n    'TXXX:MusicBrainz Artist Id': 'musicbrainz_artistid',\r\n    'TXXX:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\r\n    'TXXX:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\r\n    'TXXX:MusicBrainz Work Id': 'musicbrainz_workid',\r\n    'TXXX:MusicBrainz TRM Id': 'musicbrainz_trmid',\r\n    'TXXX:MusicBrainz Disc Id': 'musicbrainz_discid',\r\n    'TXXX:ACOUSTID_ID': 'acoustid_id',\r\n    'TXXX:Acoustid Id': 'acoustid_id',\r\n    'TXXX:Acoustid Fingerprint': 'acoustid_fingerprint',\r\n    'TXXX:MusicIP PUID': 'musicip_puid',\r\n    'TXXX:MusicMagic Fingerprint': 'musicip_fingerprint',\r\n    WOAR: 'website',\r\n    // id3v2.4\r\n    // ToDo: In same sequence as defined at http://id3.org/id3v2.4.0-frames\r\n    TDRC: 'date',\r\n    TYER: 'year',\r\n    TDOR: 'originaldate',\r\n    // 'TMCL:instrument': 'performer:instrument',\r\n    'TIPL:arranger': 'arranger',\r\n    'TIPL:engineer': 'engineer',\r\n    'TIPL:producer': 'producer',\r\n    'TIPL:DJ-mix': 'djmixer',\r\n    'TIPL:mix': 'mixer',\r\n    TMOO: 'mood',\r\n    // additional mappings:\r\n    SYLT: 'lyrics',\r\n    TSST: 'discsubtitle',\r\n    TKEY: 'key',\r\n    COMM: 'comment',\r\n    TOPE: 'originalartist',\r\n    // Windows Media Player\r\n    'PRIV:AverageLevel': 'averageLevel',\r\n    'PRIV:PeakLevel': 'peakLevel',\r\n    // Discogs\r\n    'TXXX:DISCOGS_ARTIST_ID': 'discogs_artist_id',\r\n    'TXXX:DISCOGS_ARTISTS': 'artists',\r\n    'TXXX:DISCOGS_ARTIST_NAME': 'artists',\r\n    'TXXX:DISCOGS_ALBUM_ARTISTS': 'albumartist',\r\n    'TXXX:DISCOGS_CATALOG': 'catalognumber',\r\n    'TXXX:DISCOGS_COUNTRY': 'releasecountry',\r\n    'TXXX:DISCOGS_DATE': 'originaldate',\r\n    'TXXX:DISCOGS_LABEL': 'label',\r\n    'TXXX:DISCOGS_LABEL_ID': 'discogs_label_id',\r\n    'TXXX:DISCOGS_MASTER_RELEASE_ID': 'discogs_master_release_id',\r\n    'TXXX:DISCOGS_RATING': 'discogs_rating',\r\n    'TXXX:DISCOGS_RELEASED': 'date',\r\n    'TXXX:DISCOGS_RELEASE_ID': 'discogs_release_id',\r\n    'TXXX:DISCOGS_VOTES': 'discogs_votes',\r\n    'TXXX:CATALOGID': 'catalognumber',\r\n    'TXXX:STYLE': 'genre',\r\n    'TXXX:REPLAYGAIN_TRACK_PEAK': 'replaygain_track_peak',\r\n    'TXXX:REPLAYGAIN_TRACK_GAIN': 'replaygain_track_gain',\r\n    'TXXX:REPLAYGAIN_ALBUM_PEAK': 'replaygain_album_peak',\r\n    'TXXX:REPLAYGAIN_ALBUM_GAIN': 'replaygain_album_gain',\r\n    'TXXX:MP3GAIN_MINMAX': 'replaygain_track_minmax',\r\n    'TXXX:MP3GAIN_ALBUM_MINMAX': 'replaygain_album_minmax',\r\n    'TXXX:MP3GAIN_UNDO': 'replaygain_undo',\r\n    MVNM: 'movement',\r\n    MVIN: 'movementIndex',\r\n    PCST: 'podcast',\r\n    TCAT: 'category',\r\n    TDES: 'description',\r\n    TDRL: 'date',\r\n    TGID: 'podcastId',\r\n    TKWD: 'keywords',\r\n    WFED: 'podcasturl'\r\n};\r\nclass ID3v24TagMapper extends CaseInsensitiveTagMap_1.CaseInsensitiveTagMap {\r\n    static toRating(popm) {\r\n        return {\r\n            source: popm.email,\r\n            rating: popm.rating > 0 ? (popm.rating - 1) / 254 * GenericTagMapper_1.CommonTagMapper.maxRatingScore : undefined\r\n        };\r\n    }\r\n    constructor() {\r\n        super(['ID3v2.3', 'ID3v2.4'], id3v24TagMap);\r\n    }\r\n    /**\r\n     * Handle post mapping exceptions / correction\r\n     * @param {string} tag to post map\r\n     * @param warnings USed to register warnings\r\n     * @return Common value e.g. \"Buena Vista Social Club\"\r\n     */\r\n    postMap(tag, warnings) {\r\n        switch (tag.id) {\r\n            case 'UFID': // decode MusicBrainz Recording Id\r\n                if (tag.value.owner_identifier === 'http://musicbrainz.org') {\r\n                    tag.id += ':' + tag.value.owner_identifier;\r\n                    tag.value = Util_1.default.decodeString(tag.value.identifier, 'iso-8859-1');\r\n                }\r\n                break;\r\n            case 'PRIV':\r\n                switch (tag.value.owner_identifier) {\r\n                    // decode Windows Media Player\r\n                    case 'AverageLevel':\r\n                    case 'PeakValue':\r\n                        tag.id += ':' + tag.value.owner_identifier;\r\n                        tag.value = tag.value.data.length === 4 ? tag.value.data.readUInt32LE(0) : null;\r\n                        if (tag.value === null) {\r\n                            warnings.addWarning(`Failed to parse PRIV:PeakValue`);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        warnings.addWarning(`Unknown PRIV owner-identifier: ${tag.value.owner_identifier}`);\r\n                }\r\n                break;\r\n            case 'COMM':\r\n                tag.value = tag.value ? tag.value.text : null;\r\n                break;\r\n            case 'POPM':\r\n                tag.value = ID3v24TagMapper.toRating(tag.value);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\nexports.ID3v24TagMapper = ID3v24TagMapper;\r\n"]},"metadata":{},"sourceType":"script"}