{"ast":null,"code":"import _slicedToArray from\"/Users/johnobrien/Desktop/Rumblr_PROD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useMutation}from'@apollo/client';import Cookies from'js-cookie';import Queries from'../../../../graphql/queries.js';import Mutations from'../../../../graphql/mutations.js';import UpdateCacheUtil from'../../../posts/util/functions/update_cache_util.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var filterPostContent=UpdateCacheUtil.filterPostContent;var ADD_FILTER_POST_CONTENT=Mutations.ADD_FILTER_POST_CONTENT,DELETE_FILTER_POST_CONTENT=Mutations.DELETE_FILTER_POST_CONTENT;var FETCH_USER=Queries.FETCH_USER;var FilterPostContentInput=function FilterPostContentInput(_ref){var user=_ref.user;var _useState=useState(user.filteredPostContent.length>0?true:false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),postContent=_useState4[0],setPostContent=_useState4[1];var _useMutation=useMutation(ADD_FILTER_POST_CONTENT,{update:function update(client,_ref2){var data=_ref2.data;var addFilterPostContent=data.addFilterPostContent;var currentUser=Cookies.get('currentUser');var query=FETCH_USER;filterPostContent(client,addFilterPostContent,currentUser,query);},onCompleted:function onCompleted(){setPostContent(postContent='');}}),_useMutation2=_slicedToArray(_useMutation,1),addFilterPostContent=_useMutation2[0];var _useMutation3=useMutation(DELETE_FILTER_POST_CONTENT,{update:function update(client,_ref3){var data=_ref3.data;var deleteFilterPostContent=data.deleteFilterPostContent;var currentUser=Cookies.get('currentUser');var query=FETCH_USER;filterPostContent(client,deleteFilterPostContent,currentUser,query);},onCompleted:function onCompleted(){setPostContent(postContent='');}}),_useMutation4=_slicedToArray(_useMutation3,1),deleteFilterPostContent=_useMutation4[0];if(active){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();addFilterPostContent({variables:{postContent:postContent,user:Cookies.get('currentUser')}});},children:/*#__PURE__*/_jsxs(\"div\",{className:\"filterTagInputContainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filter content\",value:postContent,onChange:function onChange(e){setPostContent(postContent=e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:postContent?false:true,children:\"Add\"})]})}),/*#__PURE__*/_jsx(\"ul\",{children:user.filteredPostContent.map(function(postContent,i){return/*#__PURE__*/_jsxs(\"li\",{className:\"filteredTag\",children:[/*#__PURE__*/_jsx(\"span\",{children:postContent}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){deleteFilterPostContent({variables:{postContent:postContent,user:Cookies.get('currentUser')}});},children:\"Remove\"})]},i);})})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"settingContainer\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You're not filtering any post content\"}),/*#__PURE__*/_jsx(\"img\",{className:\"editPostBtn\",src:\"https://img.icons8.com/windows/64/000000/edit--v1.png\",alt:\"\",onClick:function onClick(){setActive(active=true);}})]});}};export default FilterPostContentInput;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/Rumblr_PROD/client/src/components/user/util/components/Filter_Post_Content_Input.js"],"names":["React","useState","useMutation","Cookies","Queries","Mutations","UpdateCacheUtil","filterPostContent","ADD_FILTER_POST_CONTENT","DELETE_FILTER_POST_CONTENT","FETCH_USER","FilterPostContentInput","user","filteredPostContent","length","active","setActive","postContent","setPostContent","update","client","data","addFilterPostContent","currentUser","get","query","onCompleted","deleteFilterPostContent","e","preventDefault","variables","target","value","map","i"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport Cookies from 'js-cookie';\n\nimport Queries from '../../../../graphql/queries.js';\nimport Mutations from '../../../../graphql/mutations.js';\nimport UpdateCacheUtil from '../../../posts/util/functions/update_cache_util.js';\nconst { filterPostContent } = UpdateCacheUtil;\nconst { ADD_FILTER_POST_CONTENT, DELETE_FILTER_POST_CONTENT } = Mutations;\nconst { FETCH_USER } = Queries;\n\nconst FilterPostContentInput = ({\n  user\n}) => {\n  let [active, setActive] = useState(user.filteredPostContent.length > 0 ? true : false)\n  let [postContent, setPostContent] = useState('')\n\n  let [addFilterPostContent] = useMutation(ADD_FILTER_POST_CONTENT, {\n    update(client, { data }) {\n      const { addFilterPostContent } = data;\n      var currentUser = Cookies.get('currentUser')\n      var query = FETCH_USER\n      \n      filterPostContent(client, addFilterPostContent, currentUser, query)\n    },\n    onCompleted() {\n      setPostContent(postContent = '')\n    }\n  })\n\n  let [deleteFilterPostContent] = useMutation(DELETE_FILTER_POST_CONTENT, {\n    update(client, { data }) {\n      const { deleteFilterPostContent } = data;\n      var currentUser = Cookies.get('currentUser')\n      var query = FETCH_USER\n      \n      filterPostContent(client, deleteFilterPostContent, currentUser, query)\n    },\n    onCompleted() {\n      setPostContent(postContent = '')\n    }\n  })\n\n  if (active) {\n    return (\n      <React.Fragment>\n        <form\n          onSubmit={e => {\n            e.preventDefault()\n    \n            addFilterPostContent({\n                variables: {\n                  postContent: postContent,\n                  user: Cookies.get('currentUser')\n                }\n              })\n            }}\n          >\n            <div\n              className='filterTagInputContainer'\n            >\n              <input\n                type='text'\n                placeholder='Filter content'\n                value={postContent}\n                onChange={e => {\n                  setPostContent(postContent = e.target.value)\n                }}\n              />\n              <button\n                type='submit'\n                disabled={postContent ? false : true}\n              >\n                Add\n              </button>\n            </div>\n          </form>\n        <ul>\n          {user.filteredPostContent.map((postContent, i) => {\n            return (\n              <li\n                className='filteredTag'\n                key={i}\n              >\n                <span>{postContent}</span>\n                <button\n                  type='button'\n                  onClick={() => {\n                    deleteFilterPostContent({\n                      variables: {\n                        postContent: postContent,\n                        user: Cookies.get('currentUser')\n                      }\n                    })\n                  }}\n                >\n                  Remove\n                </button>\n              </li>\n            )\n          })}\n        </ul>\n      </React.Fragment>\n    )\n  } else {\n    return (\n      <div\n        className='settingContainer'\n      >\n        <p>You're not filtering any post content</p>\n        <img\n          className='editPostBtn'\n          src=\"https://img.icons8.com/windows/64/000000/edit--v1.png\"\n          alt=''\n          onClick={() => {\n            setActive(active = true)\n          }}\n        />\n      </div>\n    )\n  }\n}\n\nexport default FilterPostContentInput;"]},"metadata":{},"sourceType":"module"}