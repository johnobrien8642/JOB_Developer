{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TheoraParser = void 0;\n\nconst initDebug = require(\"debug\");\n\nconst Theora_1 = require(\"./Theora\");\n\nconst debug = initDebug('music-metadata:parser:ogg:theora');\n/**\r\n * Ref:\r\n *   https://theora.org/doc/Theora.pdf\r\n */\n\nclass TheoraParser {\n  constructor(metadata, options, tokenizer) {\n    this.metadata = metadata;\n    this.tokenizer = tokenizer;\n  }\n  /**\r\n   * Vorbis 1 parser\r\n   * @param header Ogg Page Header\r\n   * @param pageData Page data\r\n   */\n\n\n  parsePage(header, pageData) {\n    if (header.headerType.firstPage) {\n      this.parseFirstPage(header, pageData);\n    }\n  }\n\n  flush() {\n    debug('flush');\n  }\n\n  calculateDuration(header) {\n    debug('duration calculation not implemented');\n  }\n  /**\r\n   * Parse first Theora Ogg page. the initial identification header packet\r\n   * @param {IPageHeader} header\r\n   * @param {Buffer} pageData\r\n   */\n\n\n  parseFirstPage(header, pageData) {\n    debug('First Ogg/Theora page');\n    this.metadata.setFormat('codec', 'Theora');\n    const idHeader = Theora_1.IdentificationHeader.get(pageData, 0);\n    this.metadata.setFormat('bitrate', idHeader.nombr);\n  }\n\n}\n\nexports.TheoraParser = TheoraParser;","map":{"version":3,"sources":["/Users/johnobrien/Desktop/JOB_Developer/client/node_modules/music-metadata/lib/ogg/theora/TheoraParser.js"],"names":["Object","defineProperty","exports","value","TheoraParser","initDebug","require","Theora_1","debug","constructor","metadata","options","tokenizer","parsePage","header","pageData","headerType","firstPage","parseFirstPage","flush","calculateDuration","setFormat","idHeader","IdentificationHeader","get","nombr"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,YAAR,GAAuB,KAAK,CAA5B;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,OAAD,CAAzB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAME,KAAK,GAAGH,SAAS,CAAC,kCAAD,CAAvB;AACA;AACA;AACA;AACA;;AACA,MAAMD,YAAN,CAAmB;AACfK,EAAAA,WAAW,CAACC,QAAD,EAAWC,OAAX,EAAoBC,SAApB,EAA+B;AACtC,SAAKF,QAAL,GAAgBA,QAAhB;AACA,SAAKE,SAAL,GAAiBA,SAAjB;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACIC,EAAAA,SAAS,CAACC,MAAD,EAASC,QAAT,EAAmB;AACxB,QAAID,MAAM,CAACE,UAAP,CAAkBC,SAAtB,EAAiC;AAC7B,WAAKC,cAAL,CAAoBJ,MAApB,EAA4BC,QAA5B;AACH;AACJ;;AACDI,EAAAA,KAAK,GAAG;AACJX,IAAAA,KAAK,CAAC,OAAD,CAAL;AACH;;AACDY,EAAAA,iBAAiB,CAACN,MAAD,EAAS;AACtBN,IAAAA,KAAK,CAAC,sCAAD,CAAL;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACIU,EAAAA,cAAc,CAACJ,MAAD,EAASC,QAAT,EAAmB;AAC7BP,IAAAA,KAAK,CAAC,uBAAD,CAAL;AACA,SAAKE,QAAL,CAAcW,SAAd,CAAwB,OAAxB,EAAiC,QAAjC;AACA,UAAMC,QAAQ,GAAGf,QAAQ,CAACgB,oBAAT,CAA8BC,GAA9B,CAAkCT,QAAlC,EAA4C,CAA5C,CAAjB;AACA,SAAKL,QAAL,CAAcW,SAAd,CAAwB,SAAxB,EAAmCC,QAAQ,CAACG,KAA5C;AACH;;AA/Bc;;AAiCnBvB,OAAO,CAACE,YAAR,GAAuBA,YAAvB","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TheoraParser = void 0;\r\nconst initDebug = require(\"debug\");\r\nconst Theora_1 = require(\"./Theora\");\r\nconst debug = initDebug('music-metadata:parser:ogg:theora');\r\n/**\r\n * Ref:\r\n *   https://theora.org/doc/Theora.pdf\r\n */\r\nclass TheoraParser {\r\n    constructor(metadata, options, tokenizer) {\r\n        this.metadata = metadata;\r\n        this.tokenizer = tokenizer;\r\n    }\r\n    /**\r\n     * Vorbis 1 parser\r\n     * @param header Ogg Page Header\r\n     * @param pageData Page data\r\n     */\r\n    parsePage(header, pageData) {\r\n        if (header.headerType.firstPage) {\r\n            this.parseFirstPage(header, pageData);\r\n        }\r\n    }\r\n    flush() {\r\n        debug('flush');\r\n    }\r\n    calculateDuration(header) {\r\n        debug('duration calculation not implemented');\r\n    }\r\n    /**\r\n     * Parse first Theora Ogg page. the initial identification header packet\r\n     * @param {IPageHeader} header\r\n     * @param {Buffer} pageData\r\n     */\r\n    parseFirstPage(header, pageData) {\r\n        debug('First Ogg/Theora page');\r\n        this.metadata.setFormat('codec', 'Theora');\r\n        const idHeader = Theora_1.IdentificationHeader.get(pageData, 0);\r\n        this.metadata.setFormat('bitrate', idHeader.nombr);\r\n    }\r\n}\r\nexports.TheoraParser = TheoraParser;\r\n"]},"metadata":{},"sourceType":"script"}